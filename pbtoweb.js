var V=(l,t)=>()=>(t||l((t={exports:{}}).exports,t),t.exports);var Zt=V((Kt,Ae)=>{(function(l,t){typeof define=="function"&&define.amd?define([],t):typeof Ae=="object"&&Ae.exports&&(Ae.exports=t())})(Kt,function(){"use strict";function l(s,a){function e(){this.constructor=s}e.prototype=a.prototype,s.prototype=new e}function t(s,a,e,h){this.message=s,this.expected=a,this.found=e,this.location=h,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t)}l(t,Error),t.buildMessage=function(s,a){var e={literal:function(v){return'"'+p(v.text)+'"'},class:function(v){var k="",E;for(E=0;E<v.parts.length;E++)k+=v.parts[E]instanceof Array?u(v.parts[E][0])+"-"+u(v.parts[E][1]):u(v.parts[E]);return"["+(v.inverted?"^":"")+k+"]"},any:function(v){return"any character"},end:function(v){return"end of input"},other:function(v){return v.description}};function h(v){return v.charCodeAt(0).toString(16).toUpperCase()}function p(v){return v.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(k){return"\\x0"+h(k)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(k){return"\\x"+h(k)})}function u(v){return v.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(k){return"\\x0"+h(k)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(k){return"\\x"+h(k)})}function g(v){return e[v.type](v)}function x(v){var k=new Array(v.length),E,D;for(E=0;E<v.length;E++)k[E]=g(v[E]);if(k.sort(),k.length>0){for(E=1,D=1;E<k.length;E++)k[E-1]!==k[E]&&(k[D]=k[E],D++);k.length=D}switch(k.length){case 1:return k[0];case 2:return k[0]+" or "+k[1];default:return k.slice(0,-1).join(", ")+", or "+k[k.length-1]}}function C(v){return v?'"'+p(v)+'"':"end of input"}return"Expected "+x(s)+" but "+C(a)+" found."};function n(s,a){a=a!==void 0?a:{};var e={},h={Start:Nt},p=Nt,u=function(i){return Xt(i)},g="global",x=T("global",!1),C=function(i){return i},v="forward",k=T("forward",!1),E=function(i){return{key:"forward",data:i}},D="type",z=T("type",!1),ge="from",de=T("from",!1),se="`",Xi=T("`",!1),Yi=function(i,o,c,f){return f},Ki=function(i,o,c,f,_,m){return{key:"definetype",global:i,type:o,from:c,pname:f,within:_,props:m}},qe="event",Te=T("event",!0),Pe="end event",Le=T("end event",!0),ut=function(i,o){return o},Zi=function(i,o){return{key:"event",name:i,codes:Xt(o)}},Qi=function(i,o){return{key:"define",data:{type:i,name:o}}},ht=/^[a-z_0-9!\u4E00-\u9FA5\-[\]]/i,ft=Z([["a","z"],"_",["0","9"],"!",["\u4E00","\u9FA5"],"-","[","]"],!1,!0),pt=function(){return Lt()},ee='"',te=T('"',!1),gt=/^[ a-z_0-9!\u4E00-\u9FA5\-]/i,dt=Z([" ",["a","z"],"_",["0","9"],"!",["\u4E00","\u9FA5"],"-"],!1,!0),en="{",tn=T("{",!1),me=",",we=T(",",!1),mt=function(i,o){return o},nn="}",sn=T("}",!1),rn=function(i,o){return[i,...o]},wt="end",on=T("end",!1),_t="=",xt=T("=",!1),bt=function(i,o,c){return c},an=function(i,o,c){return{key:"property",data:{type:i,name:o,value:c}}},ln=function(i,o){return{key:"event",data:{name:i,args:o}}},cn=function(i,o){return{key:"event",data:{name:i,type:o}}},un="event type",hn=T("event type",!0),fn=function(i,o,c){return{key:"event",data:{name:o,args:c},returnType:i}},pn="(",gn=T("(",!1),yt=function(i,o){return o},dn=")",mn=T(")",!1),wn=function(i,o){return i?[i,...o]:[]},_n=function(i,o,c){return{type:i,name:o,value:c}},vt="within",xn=T("within",!1),bn=function(i){return i},Ct=/^[a-z0-9 $_.=!();,+"[\]*\/<>\u4E00-\u9FA5]/i,Et=Z([["a","z"],["0","9"]," ","$","_",".","=","!","(",")",";",",","+",'"',"[","]","*","/","<",">",["\u4E00","\u9FA5"]],!1,!0),Ft=function(i){return{key:"unknow",data:i.join("")}},yn=/^[\r\n]/,vn=Z(["\r",`
`],!1,!1),$t=us(),Cn=function(i){return i},En=/^[ \t]/,Fn=Z([" ","	"],!1,!1),$n="if",An=T("if",!0),On=Ne("string"),At=function(i){return i.join("")},_e="'",xe=T("'",!1),re="~",oe=T("~",!1),De=function(){return Lt()},Ot=function(i){return i},Rn="\\",Sn=T("\\",!1),kn=function(){return""},qn="b",Tn=T("b",!1),Pn=function(){return"\b"},Ln="f",Dn=T("f",!1),Hn=function(){return"\f"},Nn="n",Vn=T("n",!1),jn=function(){return`
`},In="r",Mn=T("r",!1),Bn=function(){return"\r"},Wn="t",Un=T("t",!1),zn=function(){return"	"},Gn="v",Jn=T("v",!1),Xn=function(){return"\v"},Rt="x",St=T("x",!1),kt="u",qt=T("u",!1),Yn=/^[0-9a-f]/i,Kn=Z([["0","9"],["a","f"]],!1,!0),Tt=function(i){return String.fromCharCode(parseInt(i,16))},Zn=/^[\n\r\u2028\u2029]/,Qn=Z([`
`,"\r","\u2028","\u2029"],!1,!1),es=Ne("end of line"),ts=`
`,is=T(`
`,!1),Pt=`\r
`,ns=T(`\r
`,!1),ss="\r",rs=T("\r",!1),os="\u2028",as=T("\u2028",!1),ls="\u2029",cs=T("\u2029",!1),r=0,q=0,be=[{line:1,column:1}],G=0,He=[],d=0,ye;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');p=h[a.startRule]}function Lt(){return s.substring(q,r)}function $r(){return ae(q,r)}function Ar(i,o){throw o=o!==void 0?o:ae(q,r),Ht([Ne(i)],s.substring(q,r),o)}function Or(i,o){throw o=o!==void 0?o:ae(q,r),fs(i,o)}function T(i,o){return{type:"literal",text:i,ignoreCase:o}}function Z(i,o,c){return{type:"class",parts:i,inverted:o,ignoreCase:c}}function us(){return{type:"any"}}function hs(){return{type:"end"}}function Ne(i){return{type:"other",description:i}}function Dt(i){var o=be[i],c;if(o)return o;for(c=i-1;!be[c];)c--;for(o=be[c],o={line:o.line,column:o.column};c<i;)s.charCodeAt(c)===10?(o.line++,o.column=1):o.column++,c++;return be[i]=o,o}function ae(i,o){var c=Dt(i),f=Dt(o);return{start:{offset:i,line:c.line,column:c.column},end:{offset:o,line:f.line,column:f.column}}}function y(i){r<G||(r>G&&(G=r,He=[]),He.push(i))}function fs(i,o){return new t(i,null,null,o)}function Ht(i,o,c){return new t(t.buildMessage(i,o),i,o,c)}function Nt(){var i,o;return i=r,o=ps(),o!==e&&(q=i,o=u(o)),i=o,i}function ps(){var i,o;for(i=[],o=Vt(),o===e&&(o=ve(),o===e&&(o=jt(),o===e&&(o=Ce(),o===e&&(o=Ee()))));o!==e;)i.push(o),o=Vt(),o===e&&(o=ve(),o===e&&(o=jt(),o===e&&(o=Ce(),o===e&&(o=Ee()))));return i}function gs(){var i,o,c;return i=r,s.substr(r,6)===g?(o=g,r+=6):(o=e,d===0&&y(x)),o!==e?(c=B(),c!==e?(q=i,o=C(o),i=o):(r=i,i=e)):(r=i,i=e),i}function Vt(){var i,o,c,f,_;if(i=r,s.substr(r,7)===v?(o=v,r+=7):(o=e,d===0&&y(k)),o!==e)if(c=W(),c!==e){for(f=[],_=ve();_!==e;)f.push(_),_=ve();f!==e?(q=i,o=E(f),i=o):(r=i,i=e)}else r=i,i=e;else r=i,i=e;return i}function ve(){var i,o,c,f,_,m,b,w,S,A,N,J,le,$e,Q,K,Yt;for(i=r,o=[],c=F();c!==e;)o.push(c),c=F();if(o!==e)if(c=gs(),c===e&&(c=null),c!==e)if(s.substr(r,4)===D?(f=D,r+=4):(f=e,d===0&&y(z)),f!==e)if(_=B(),_!==e)if(m=M(),m!==e)if(b=B(),b!==e)if(s.substr(r,4)===ge?(w=ge,r+=4):(w=e,d===0&&y(de)),w!==e)if(S=B(),S!==e)if(A=M(),A!==e)if(N=r,s.charCodeAt(r)===96?(J=se,r++):(J=e,d===0&&y(Xi)),J!==e?(le=M(),le!==e?(q=N,J=Yi(c,m,A,le),N=J):(r=N,N=e)):(r=N,N=e),N===e&&(N=null),N!==e)if(J=ws(),J===e&&(J=null),J!==e)if(le=W(),le!==e){for($e=[],Q=Ve();Q!==e;)$e.push(Q),Q=Ve();if($e!==e){for(Q=[],K=F();K!==e;)Q.push(K),K=F();Q!==e?(K=W(),K===e&&(K=null),K!==e?(Yt=ie(),Yt!==e?(q=i,o=Ki(c,m,A,N,J,$e),i=o):(r=i,i=e)):(r=i,i=e)):(r=i,i=e)}else r=i,i=e}else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e;return i}function jt(){var i,o,c,f,_,m,b,w,S,A;for(i=r,o=[],c=F();c!==e;)o.push(c),c=F();if(o!==e)if(s.substr(r,5).toLowerCase()===qe?(c=s.substr(r,5),r+=5):(c=e,d===0&&y(Te)),c!==e){for(f=[],_=F();_!==e;)f.push(_),_=F();if(f!==e)if(_=M(),_!==e){for(m=[],b=F();b!==e;)m.push(b),b=F();if(m!==e){for(b=[],w=r,S=r,d++,s.substr(r,9).toLowerCase()===Pe?(A=s.substr(r,9),r+=9):(A=e,d===0&&y(Le)),d--,A===e?S=void 0:(r=S,S=e),S!==e?(A=Ce(),A!==e?(q=w,S=ut(_,A),w=S):(r=w,w=e)):(r=w,w=e);w!==e;)b.push(w),w=r,S=r,d++,s.substr(r,9).toLowerCase()===Pe?(A=s.substr(r,9),r+=9):(A=e,d===0&&y(Le)),d--,A===e?S=void 0:(r=S,S=e),S!==e?(A=Ce(),A!==e?(q=w,S=ut(_,A),w=S):(r=w,w=e)):(r=w,w=e);if(b!==e){for(w=[],S=F();S!==e;)w.push(S),S=F();w!==e?(s.substr(r,9).toLowerCase()===Pe?(S=s.substr(r,9),r+=9):(S=e,d===0&&y(Le)),S!==e?(A=W(),A===e&&(A=null),A!==e?(q=i,o=Zi(_,b),i=o):(r=i,i=e)):(r=i,i=e)):(r=i,i=e)}else r=i,i=e}else r=i,i=e}else r=i,i=e;else r=i,i=e}else r=i,i=e;else r=i,i=e;return i}function Rr(){var i,o,c,f,_,m,b,w;if(i=Ve(),i===e)if(i=r,o=r,d++,c=ie(),d--,c===e?o=void 0:(r=o,o=e),o!==e){for(c=[],f=F();f!==e;)c.push(f),f=F();if(c!==e)if(f=M(),f!==e){for(_=[],m=F();m!==e;)_.push(m),m=F();_!==e?(m=B(),m!==e?(b=M(),b!==e?(w=W(),w!==e?(q=i,o=Qi(f,b),i=o):(r=i,i=e)):(r=i,i=e)):(r=i,i=e)):(r=i,i=e)}else r=i,i=e;else r=i,i=e}else r=i,i=e;return i}function M(){var i,o,c;for(i=r,o=[],ht.test(s.charAt(r))?(c=s.charAt(r),r++):(c=e,d===0&&y(ft));c!==e;)o.push(c),ht.test(s.charAt(r))?(c=s.charAt(r),r++):(c=e,d===0&&y(ft));return o!==e&&(q=i,o=pt()),i=o,i}function It(){var i,o,c,f;if(i=Fe(),i===e){if(i=r,s.charCodeAt(r)===34?(o=ee,r++):(o=e,d===0&&y(te)),o!==e){for(c=[],gt.test(s.charAt(r))?(f=s.charAt(r),r++):(f=e,d===0&&y(dt));f!==e;)c.push(f),gt.test(s.charAt(r))?(f=s.charAt(r),r++):(f=e,d===0&&y(dt));c!==e?(s.charCodeAt(r)===34?(f=ee,r++):(f=e,d===0&&y(te)),f!==e?(q=i,o=pt(),i=o):(r=i,i=e)):(r=i,i=e)}else r=i,i=e;i===e&&(i=ds(),i===e&&(i=M()))}return i}function ds(){var i,o,c,f,_,m,b,w,S,A;if(i=r,s.charCodeAt(r)===123?(o=en,r++):(o=e,d===0&&y(tn)),o!==e){for(c=[],f=F();f!==e;)c.push(f),f=F();if(c!==e)if(f=Fe(),f!==e){for(_=[],m=r,b=[],w=F();w!==e;)b.push(w),w=F();if(b!==e)if(s.charCodeAt(r)===44?(w=me,r++):(w=e,d===0&&y(we)),w!==e){for(S=[],A=F();A!==e;)S.push(A),A=F();S!==e?(A=Fe(),A!==e?(q=m,b=mt(f,A),m=b):(r=m,m=e)):(r=m,m=e)}else r=m,m=e;else r=m,m=e;for(;m!==e;){for(_.push(m),m=r,b=[],w=F();w!==e;)b.push(w),w=F();if(b!==e)if(s.charCodeAt(r)===44?(w=me,r++):(w=e,d===0&&y(we)),w!==e){for(S=[],A=F();A!==e;)S.push(A),A=F();S!==e?(A=Fe(),A!==e?(q=m,b=mt(f,A),m=b):(r=m,m=e)):(r=m,m=e)}else r=m,m=e;else r=m,m=e}_!==e?(s.charCodeAt(r)===125?(m=nn,r++):(m=e,d===0&&y(sn)),m!==e?(q=i,o=rn(f,_),i=o):(r=i,i=e)):(r=i,i=e)}else r=i,i=e;else r=i,i=e}else r=i,i=e;return i}function ie(){var i,o,c,f,_,m;for(i=r,o=[],c=F();c!==e;)o.push(c),c=F();return o!==e?(s.substr(r,3)===wt?(c=wt,r+=3):(c=e,d===0&&y(on)),c!==e?(f=B(),f!==e?(s.substr(r,4)===D?(_=D,r+=4):(_=e,d===0&&y(z)),_!==e?(m=W(),m===e&&(m=null),m!==e?(o=[o,c,f,_,m],i=o):(r=i,i=e)):(r=i,i=e)):(r=i,i=e)):(r=i,i=e)):(r=i,i=e),i}function Ve(){var i,o,c,f,_,m,b,w,S,A,N;if(i=r,o=r,d++,c=ie(),d--,c===e?o=void 0:(r=o,o=e),o!==e){for(c=[],f=F();f!==e;)c.push(f),f=F();if(c!==e)if(f=M(),f!==e)if(_=B(),_!==e)if(m=M(),m!==e){for(b=[],w=F();w!==e;)b.push(w),w=F();if(b!==e){if(w=r,s.charCodeAt(r)===61?(S=_t,r++):(S=e,d===0&&y(xt)),S!==e){for(A=[],N=F();N!==e;)A.push(N),N=F();A!==e?(N=It(),N!==e?(q=w,S=bt(f,m,N),w=S):(r=w,w=e)):(r=w,w=e)}else r=w,w=e;w===e&&(w=null),w!==e?(S=W(),S!==e?(q=i,o=an(f,m,w),i=o):(r=i,i=e)):(r=i,i=e)}else r=i,i=e}else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e}else r=i,i=e;return i===e&&(i=ms()),i}function ms(){var i,o,c,f,_,m,b,w,S,A,N;if(i=r,o=r,d++,c=ie(),d--,c===e?o=void 0:(r=o,o=e),o!==e){for(c=[],f=F();f!==e;)c.push(f),f=F();if(c!==e)if(s.substr(r,5).toLowerCase()===qe?(f=s.substr(r,5),r+=5):(f=e,d===0&&y(Te)),f!==e)if(_=B(),_!==e)if(m=M(),m!==e){for(b=[],w=F();w!==e;)b.push(w),w=F();b!==e?(w=Mt(),w!==e?(S=W(),S!==e?(q=i,o=ln(m,w),i=o):(r=i,i=e)):(r=i,i=e)):(r=i,i=e)}else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e}else r=i,i=e;if(i===e){if(i=r,o=r,d++,c=ie(),d--,c===e?o=void 0:(r=o,o=e),o!==e){for(c=[],f=F();f!==e;)c.push(f),f=F();c!==e?(s.substr(r,5).toLowerCase()===qe?(f=s.substr(r,5),r+=5):(f=e,d===0&&y(Te)),f!==e?(_=B(),_!==e?(m=M(),m!==e?(b=B(),b!==e?(w=M(),w!==e?(S=W(),S!==e?(q=i,o=cn(m,w),i=o):(r=i,i=e)):(r=i,i=e)):(r=i,i=e)):(r=i,i=e)):(r=i,i=e)):(r=i,i=e)):(r=i,i=e)}else r=i,i=e;if(i===e)if(i=r,o=r,d++,c=ie(),d--,c===e?o=void 0:(r=o,o=e),o!==e){for(c=[],f=F();f!==e;)c.push(f),f=F();if(c!==e)if(s.substr(r,10).toLowerCase()===un?(f=s.substr(r,10),r+=10):(f=e,d===0&&y(hn)),f!==e)if(_=B(),_!==e)if(m=M(),m!==e)if(b=B(),b!==e)if(w=M(),w!==e){for(S=[],A=F();A!==e;)S.push(A),A=F();S!==e?(A=Mt(),A!==e?(N=W(),N!==e?(q=i,o=fn(m,w,A),i=o):(r=i,i=e)):(r=i,i=e)):(r=i,i=e)}else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e}else r=i,i=e}return i}function Mt(){var i,o,c,f,_,m,b,w;if(i=r,s.charCodeAt(r)===40?(o=pn,r++):(o=e,d===0&&y(gn)),o!==e)if(c=je(),c===e&&(c=null),c!==e){for(f=[],_=r,m=[],b=F();b!==e;)m.push(b),b=F();for(m!==e?(s.charCodeAt(r)===44?(b=me,r++):(b=e,d===0&&y(we)),b!==e?(w=je(),w!==e?(q=_,m=yt(c,w),_=m):(r=_,_=e)):(r=_,_=e)):(r=_,_=e);_!==e;){for(f.push(_),_=r,m=[],b=F();b!==e;)m.push(b),b=F();m!==e?(s.charCodeAt(r)===44?(b=me,r++):(b=e,d===0&&y(we)),b!==e?(w=je(),w!==e?(q=_,m=yt(c,w),_=m):(r=_,_=e)):(r=_,_=e)):(r=_,_=e)}if(f!==e){for(_=[],m=F();m!==e;)_.push(m),m=F();_!==e?(s.charCodeAt(r)===41?(m=dn,r++):(m=e,d===0&&y(mn)),m!==e?(q=i,o=wn(c,f),i=o):(r=i,i=e)):(r=i,i=e)}else r=i,i=e}else r=i,i=e;else r=i,i=e;return i}function je(){var i,o,c,f,_,m,b,w,S,A;for(i=r,o=[],c=F();c!==e;)o.push(c),c=F();if(o!==e)if(c=M(),c!==e)if(f=B(),f!==e)if(_=M(),_!==e){for(m=[],b=F();b!==e;)m.push(b),b=F();if(m!==e){if(b=r,s.charCodeAt(r)===61?(w=_t,r++):(w=e,d===0&&y(xt)),w!==e){for(S=[],A=F();A!==e;)S.push(A),A=F();S!==e?(A=It(),A!==e?(q=b,w=bt(c,_,A),b=w):(r=b,b=e)):(r=b,b=e)}else r=b,b=e;b===e&&(b=null),b!==e?(q=i,o=_n(c,_,b),i=o):(r=i,i=e)}else r=i,i=e}else r=i,i=e;else r=i,i=e;else r=i,i=e;else r=i,i=e;return i}function ws(){var i,o,c,f,_;return i=r,o=B(),o!==e?(s.substr(r,6)===vt?(c=vt,r+=6):(c=e,d===0&&y(xn)),c!==e?(f=B(),f!==e?(_=M(),_!==e?(q=i,o=bn(_),i=o):(r=i,i=e)):(r=i,i=e)):(r=i,i=e)):(r=i,i=e),i}function W(){var i,o,c;for(i=r,o=[],c=F();c!==e;)o.push(c),c=F();return o!==e?(c=Jt(),c!==e?(o=[o,c],i=o):(r=i,i=e)):(r=i,i=e),i}function Sr(){var i,o,c,f;for(i=r,o=[],c=F();c!==e;)o.push(c),c=F();if(o!==e){for(c=[],Ct.test(s.charAt(r))?(f=s.charAt(r),r++):(f=e,d===0&&y(Et));f!==e;)c.push(f),Ct.test(s.charAt(r))?(f=s.charAt(r),r++):(f=e,d===0&&y(Et));c!==e?(f=W(),f!==e?(q=i,o=Ft(c),i=o):(r=i,i=e)):(r=i,i=e)}else r=i,i=e;return i}function Ce(){var i,o,c;for(i=r,o=[],c=Ee();c!==e;)o.push(c),c=Ee();return o!==e?(c=W(),c!==e?(q=i,o=Ft(o),i=o):(r=i,i=e)):(r=i,i=e),i}function Ee(){var i,o,c;return i=r,o=r,d++,yn.test(s.charAt(r))?(c=s.charAt(r),r++):(c=e,d===0&&y(vn)),d--,c===e?o=void 0:(r=o,o=e),o!==e?(s.length>r?(c=s.charAt(r),r++):(c=e,d===0&&y($t)),c!==e?(q=i,o=Cn(c),i=o):(r=i,i=e)):(r=i,i=e),i}function F(){var i;return En.test(s.charAt(r))?(i=s.charAt(r),r++):(i=e,d===0&&y(Fn)),i}function B(){var i,o;if(i=[],o=F(),o!==e)for(;o!==e;)i.push(o),o=F();else i=e;return i}function kr(){var i;return s.substr(r,2).toLowerCase()===$n?(i=s.substr(r,2),r+=2):(i=e,d===0&&y(An)),i}function Fe(){var i,o,c,f;if(d++,i=r,s.charCodeAt(r)===34?(o=ee,r++):(o=e,d===0&&y(te)),o!==e){for(c=[],f=Bt();f!==e;)c.push(f),f=Bt();c!==e?(s.charCodeAt(r)===34?(f=ee,r++):(f=e,d===0&&y(te)),f!==e?(q=i,o=At(c),i=o):(r=i,i=e)):(r=i,i=e)}else r=i,i=e;if(i===e)if(i=r,s.charCodeAt(r)===39?(o=_e,r++):(o=e,d===0&&y(xe)),o!==e){for(c=[],f=Wt();f!==e;)c.push(f),f=Wt();c!==e?(s.charCodeAt(r)===39?(f=_e,r++):(f=e,d===0&&y(xe)),f!==e?(q=i,o=At(c),i=o):(r=i,i=e)):(r=i,i=e)}else r=i,i=e;return d--,i===e&&(o=e,d===0&&y(On)),i}function Ie(){var i;return s.length>r?(i=s.charAt(r),r++):(i=e,d===0&&y($t)),i}function Bt(){var i,o,c;return i=r,o=r,d++,s.charCodeAt(r)===34?(c=ee,r++):(c=e,d===0&&y(te)),c===e&&(s.charCodeAt(r)===126?(c=re,r++):(c=e,d===0&&y(oe)),c===e&&(c=Me())),d--,c===e?o=void 0:(r=o,o=e),o!==e?(c=Ie(),c!==e?(q=i,o=De(),i=o):(r=i,i=e)):(r=i,i=e),i===e&&(i=r,s.charCodeAt(r)===126?(o=re,r++):(o=e,d===0&&y(oe)),o!==e?(c=zt(),c!==e?(q=i,o=Ot(c),i=o):(r=i,i=e)):(r=i,i=e),i===e&&(i=Ut())),i}function Wt(){var i,o,c;return i=r,o=r,d++,s.charCodeAt(r)===39?(c=_e,r++):(c=e,d===0&&y(xe)),c===e&&(s.charCodeAt(r)===126?(c=re,r++):(c=e,d===0&&y(oe)),c===e&&(c=Me())),d--,c===e?o=void 0:(r=o,o=e),o!==e?(c=Ie(),c!==e?(q=i,o=De(),i=o):(r=i,i=e)):(r=i,i=e),i===e&&(i=r,s.charCodeAt(r)===126?(o=re,r++):(o=e,d===0&&y(oe)),o!==e?(c=zt(),c!==e?(q=i,o=Ot(c),i=o):(r=i,i=e)):(r=i,i=e),i===e&&(i=Ut())),i}function Ut(){var i,o,c;return i=r,s.charCodeAt(r)===92?(o=Rn,r++):(o=e,d===0&&y(Sn)),o!==e?(c=Jt(),c!==e?(q=i,o=kn(),i=o):(r=i,i=e)):(r=i,i=e),i}function zt(){var i;return i=_s(),i===e&&(i=ys(),i===e&&(i=vs())),i}function _s(){var i;return i=Gt(),i===e&&(i=xs()),i}function Gt(){var i,o;return s.charCodeAt(r)===39?(i=_e,r++):(i=e,d===0&&y(xe)),i===e&&(s.charCodeAt(r)===34?(i=ee,r++):(i=e,d===0&&y(te)),i===e&&(s.charCodeAt(r)===126?(i=re,r++):(i=e,d===0&&y(oe)),i===e&&(i=r,s.charCodeAt(r)===98?(o=qn,r++):(o=e,d===0&&y(Tn)),o!==e&&(q=i,o=Pn()),i=o,i===e&&(i=r,s.charCodeAt(r)===102?(o=Ln,r++):(o=e,d===0&&y(Dn)),o!==e&&(q=i,o=Hn()),i=o,i===e&&(i=r,s.charCodeAt(r)===110?(o=Nn,r++):(o=e,d===0&&y(Vn)),o!==e&&(q=i,o=jn()),i=o,i===e&&(i=r,s.charCodeAt(r)===114?(o=In,r++):(o=e,d===0&&y(Mn)),o!==e&&(q=i,o=Bn()),i=o,i===e&&(i=r,s.charCodeAt(r)===116?(o=Wn,r++):(o=e,d===0&&y(Un)),o!==e&&(q=i,o=zn()),i=o,i===e&&(i=r,s.charCodeAt(r)===118?(o=Gn,r++):(o=e,d===0&&y(Jn)),o!==e&&(q=i,o=Xn()),i=o)))))))),i}function xs(){var i,o,c;return i=r,o=r,d++,c=bs(),c===e&&(c=Me()),d--,c===e?o=void 0:(r=o,o=e),o!==e?(c=Ie(),c!==e?(q=i,o=De(),i=o):(r=i,i=e)):(r=i,i=e),i}function bs(){var i;return i=Gt(),i===e&&(s.charCodeAt(r)===120?(i=Rt,r++):(i=e,d===0&&y(St)),i===e&&(s.charCodeAt(r)===117?(i=kt,r++):(i=e,d===0&&y(qt)))),i}function ne(){var i;return Yn.test(s.charAt(r))?(i=s.charAt(r),r++):(i=e,d===0&&y(Kn)),i}function ys(){var i,o,c,f,_,m;return i=r,s.charCodeAt(r)===120?(o=Rt,r++):(o=e,d===0&&y(St)),o!==e?(c=r,f=r,_=ne(),_!==e?(m=ne(),m!==e?(_=[_,m],f=_):(r=f,f=e)):(r=f,f=e),f!==e?c=s.substring(c,r):c=f,c!==e?(q=i,o=Tt(c),i=o):(r=i,i=e)):(r=i,i=e),i}function vs(){var i,o,c,f,_,m,b,w;return i=r,s.charCodeAt(r)===117?(o=kt,r++):(o=e,d===0&&y(qt)),o!==e?(c=r,f=r,_=ne(),_!==e?(m=ne(),m!==e?(b=ne(),b!==e?(w=ne(),w!==e?(_=[_,m,b,w],f=_):(r=f,f=e)):(r=f,f=e)):(r=f,f=e)):(r=f,f=e),f!==e?c=s.substring(c,r):c=f,c!==e?(q=i,o=Tt(c),i=o):(r=i,i=e)):(r=i,i=e),i}function Me(){var i;return Zn.test(s.charAt(r))?(i=s.charAt(r),r++):(i=e,d===0&&y(Qn)),i}function Jt(){var i,o;return d++,s.charCodeAt(r)===10?(i=ts,r++):(i=e,d===0&&y(is)),i===e&&(s.substr(r,2)===Pt?(i=Pt,r+=2):(i=e,d===0&&y(ns)),i===e&&(s.charCodeAt(r)===13?(i=ss,r++):(i=e,d===0&&y(rs)),i===e&&(s.charCodeAt(r)===8232?(i=os,r++):(i=e,d===0&&y(as)),i===e&&(s.charCodeAt(r)===8233?(i=ls,r++):(i=e,d===0&&y(cs)))))),d--,i===e&&(o=e,d===0&&y(es)),i}function Xt(i,o=!1){return o?i:i.filter(c=>c&&(!c.key||c.key!=="unknow"))}if(ye=p(),ye!==e&&r===s.length)return ye;throw ye!==e&&r<s.length&&y(hs()),Ht(He,G<s.length?s.charAt(G):null,G<s.length?ae(G,G+1):ae(G,G))}return{SyntaxError:t,parse:n}})});var ei=V((Tr,Qt)=>{Qt.exports=l=>{for(let t=0;t<l.length;t++)if(l[t]==="\uFFFD")return!1;return!0}});var ii=V((Pr,ti)=>{var O="gi",R={czech:new RegExp(/jsem|jsi/,O),hungarian:new RegExp(/\snem\s/,O),slovak:new RegExp(/poriadku|myslím|\ssme\s/,O),slovenian:new RegExp(/\skaj\s|lahko|zdaj/,O),albanian:new RegExp(/nuk/,O),english:new RegExp(/ the /,O),french:new RegExp(/c'est/,O),portuguese:new RegExp(/ não /,O),spanish:new RegExp(/estaba|\smuy\s|siempre|ahora/,O),german:new RegExp(/\sdas\s/,O),italian:new RegExp(/\sche\s/,O),danish:new RegExp(/hvad|noget/,O),norwegian:new RegExp(/deg/,O),swedish:new RegExp(/ jag /,O),dutch:new RegExp(/ het /,O),finnish:new RegExp(/hän/,O),"serbo-croatian":new RegExp(/ sam | kako /,O),estonian:new RegExp(/\sseda\s|\spole\s|midagi/,O),icelandic:new RegExp(/Það/,O),"malay-indonesian":new RegExp(/tidak/,O),turkish:new RegExp(/ bir /,O),lithuanian:new RegExp(/taip|\stai\s/,O),bengali:new RegExp(/এটা/,O),hindi:new RegExp(/हैं/,O),urdu:new RegExp(/ایک/,O),vietnamese:new RegExp(/ không /,O)},$={polish:{low:.004355,high:.005102},czech:{low:.004433,high:.007324},hungarian:{low:.004994,high:.005183},romanian:{low:.003319,high:.00419},slovak:{low:.001736,high:.002557},slovenian:{low:.004111,high:.004959},albanian:{low:.003773,high:.007313},ukrainian:{low:.002933,high:.005389},english:{low:.004679,high:.00758},french:{low:.003016,high:.004825},portuguese:{low:.003406,high:.005032},spanish:{low:.002348,high:.002881},german:{low:.004044,high:.004391},italian:{low:.003889,high:.005175},danish:{low:.00363,high:.004189},norwegian:{low:.00241,high:.003918},swedish:{low:.004916,high:.007221},dutch:{low:.003501,high:.00415},finnish:{low:.003308,high:.005135},"serbo-croatian":{low:.002568,high:.005182},estonian:{low:.002892,high:.003963},icelandic:{low:.004366,high:.004366},"malay-indonesian":{low:.002825,high:.003932},greek:{low:.00344,high:.004862},turkish:{low:.002915,high:.004588},hebrew:{low:.003663,high:.004666},lithuanian:{low:.003277,high:.003768},bengali:{low:.003155,high:.005236},hindi:{low:.004159,high:.006478},urdu:{low:.004118,high:.005851},vietnamese:{low:.003387,high:.005191}};ti.exports=[{name:"polish",count:0,utfRegex:new RegExp(/się/,O),isoRegex:new RegExp(/siê/,O),encoding:"CP1250",utfFrequency:$.polish,isoFrequency:$.polish},{name:"czech",count:0,utfRegex:R.czech,isoRegex:R.czech,encoding:"CP1250",utfFrequency:$.czech,isoFrequency:$.czech},{name:"hungarian",count:0,utfRegex:R.hungarian,isoRegex:R.hungarian,encoding:"CP1250",utfFrequency:$.hungarian,isoFrequency:$.hungarian},{name:"romanian",count:0,utfRegex:new RegExp(/sunt|eşti/,O),isoRegex:new RegExp(/sunt|eºti/,O),encoding:"CP1250",utfFrequency:$.romanian,isoFrequency:$.romanian},{name:"slovak",count:0,utfRegex:R.slovak,isoRegex:R.slovak,encoding:"CP1250",utfFrequency:$.slovak,isoFrequency:$.slovak},{name:"slovenian",count:0,utfRegex:R.slovenian,isoRegex:R.slovenian,encoding:"CP1250",utfFrequency:$.slovenian,isoFrequency:$.slovenian},{name:"albanian",count:0,utfRegex:R.albanian,isoRegex:R.albanian,encoding:"CP1250",utfFrequency:$.albanian,isoFrequency:$.albanian},{name:"russian",count:0,utfRegex:new RegExp(/что/,O),isoRegex:new RegExp(/÷òî/,O),encoding:"CP1251",utfFrequency:{low:.004965,high:.005341},isoFrequency:{low:.003884,high:.003986}},{name:"ukrainian",count:0,utfRegex:new RegExp(/він|але/,O),isoRegex:new RegExp(/â³í|àëå/,O),encoding:"CP1251",utfFrequency:$.ukrainian,isoFrequency:$.ukrainian},{name:"bulgarian",count:0,utfRegex:new RegExp(/това|какво/,O),isoRegex:new RegExp(/òîâà|äîáðå|êaêâo/,O),encoding:"CP1251",utfFrequency:{low:.005225,high:.005628},isoFrequency:{low:.002767,high:.004951}},{name:"english",count:0,utfRegex:R.english,isoRegex:R.english,encoding:"CP1252",utfFrequency:$.english,isoFrequency:$.english},{name:"french",count:0,utfRegex:R.french,isoRegex:R.french,encoding:"CP1252",utfFrequency:$.french,isoFrequency:$.french},{name:"portuguese",count:0,utfRegex:R.portuguese,isoRegex:R.portuguese,encoding:"CP1252",utfFrequency:$.portuguese,isoFrequency:$.portuguese},{name:"spanish",count:0,utfRegex:R.spanish,isoRegex:R.spanish,encoding:"CP1252",utfFrequency:$.spanish,isoFrequency:$.spanish},{name:"german",count:0,utfRegex:R.german,isoRegex:R.german,encoding:"CP1252",utfFrequency:$.german,isoFrequency:$.german},{name:"italian",count:0,utfRegex:R.italian,isoRegex:R.italian,encoding:"CP1252",utfFrequency:$.italian,isoFrequency:$.italian},{name:"danish",count:0,utfRegex:R.danish,isoRegex:R.danish,encoding:"CP1252",utfFrequency:$.danish,isoFrequency:$.danish},{name:"norwegian",count:0,utfRegex:R.norwegian,isoRegex:R.norwegian,encoding:"CP1252",utfFrequency:$.norwegian,isoFrequency:$.norwegian},{name:"swedish",count:0,utfRegex:R.swedish,isoRegex:R.swedish,encoding:"CP1252",utfFrequency:$.swedish,isoFrequency:$.swedish},{name:"dutch",count:0,utfRegex:R.dutch,isoRegex:R.dutch,encoding:"CP1252",utfFrequency:$.dutch,isoFrequency:$.dutch},{name:"finnish",count:0,utfRegex:R.finnish,isoRegex:R.finnish,encoding:"CP1252",utfFrequency:$.finnish,isoFrequency:$.finnish},{name:"serbo-croatian",count:0,utfRegex:R["serbo-croatian"],isoRegex:R["serbo-croatian"],encoding:"CP1252",utfFrequency:$["serbo-croatian"],isoFrequency:$["serbo-croatian"]},{name:"estonian",count:0,utfRegex:R.estonian,isoRegex:R.estonian,encoding:"CP1252",utfFrequency:$.estonian,isoFrequency:$.estonian},{name:"icelandic",count:0,utfRegex:R.icelandic,isoRegex:R.icelandic,encoding:"CP1252",utfFrequency:$.icelandic,isoFrequency:$.icelandic},{name:"malay-indonesian",count:0,utfRegex:R["malay-indonesian"],isoRegex:R["malay-indonesian"],encoding:"CP1252",utfFrequency:$["malay-indonesian"],isoFrequency:$["malay-indonesian"]},{name:"greek",count:0,utfRegex:new RegExp(/είναι/,O),isoRegex:new RegExp(/åßíáé/,O),encoding:"CP1253",utfFrequency:$.greek,isoFrequency:$.greek},{name:"turkish",count:0,utfRegex:R.turkish,isoRegex:R.turkish,encoding:"CP1254",utfFrequency:$.turkish,isoFrequency:$.turkish},{name:"hebrew",count:0,utfRegex:new RegExp(/אתה/,O),isoRegex:new RegExp(/àúä/,O),encoding:"CP1255",utfFrequency:$.hebrew,isoFrequency:$.hebrew},{name:"arabic",count:0,utfRegex:new RegExp(/هذا/,O),isoRegex:new RegExp(/åðç/,O),encoding:"CP1256",utfFrequency:{low:.003522,high:.004348},isoFrequency:{low:.003773,high:.005559}},{name:"farsi-persian",count:0,utfRegex:new RegExp(/اون/,O),isoRegex:new RegExp(/çíä/,O),encoding:"CP1256",utfFrequency:{low:.002761,high:.004856},isoFrequency:{low:.00301,high:.006646}},{name:"lithuanian",count:0,utfRegex:R.lithuanian,isoRegex:R.lithuanian,encoding:"CP1257",utfFrequency:$.lithuanian,isoFrequency:$.lithuanian},{name:"chinese-simplified",count:0,utfRegex:new RegExp(/么/,O),isoRegex:new RegExp(/´ó|¶¯|Å®/,O),encoding:"GB18030",utfFrequency:{low:.009567,high:.011502},isoFrequency:{low:.003137,high:.005009}},{name:"chinese-traditional",count:0,utfRegex:new RegExp(/們/,O),isoRegex:new RegExp(/¦b/,O),encoding:"BIG5",utfFrequency:{low:.012484,high:.014964},isoFrequency:{low:.005063,high:.005822}},{name:"japanese",count:0,utfRegex:new RegExp(/ど/,O),isoRegex:new RegExp(/‚»|ÁÄ/,O),encoding:"Shift-JIS",utfFrequency:{low:.004257,high:.006585},isoFrequency:{low:.004286,high:.004653}},{name:"korean",count:0,utfRegex:new RegExp(/도/,O),isoRegex:new RegExp(/àö¾î|å¾ß|¡¼­/,O),encoding:"EUC-KR",utfFrequency:{low:.01091,high:.01367},isoFrequency:{low:.004118,high:.004961}},{name:"thai",count:0,utfRegex:new RegExp(/แฮร์รี่|พอตเตอร์/,O),isoRegex:new RegExp(/áîãìãõè|¾íµàµíãì­/,O),encoding:"TIS-620",utfFrequency:{low:.003194,high:.003468},isoFrequency:{low:.002091,high:.002303}},{name:"bengali",count:0,utfRegex:R.bengali,isoRegex:R.bengali,utfFrequency:$.bengali,isoFrequency:$.bengali},{name:"hindi",count:0,utfRegex:R.hindi,isoRegex:R.hindi,utfFrequency:$.hindi,isoFrequency:$.hindi},{name:"urdu",count:0,utfRegex:R.urdu,isoRegex:R.urdu,utfFrequency:$.urdu,isoFrequency:$.urdu},{name:"vietnamese",count:0,utfRegex:R.vietnamese,isoRegex:R.vietnamese,utfFrequency:$.vietnamese,isoFrequency:$.vietnamese}]});var si=V((Lr,ni)=>{var Cs=ii();ni.exports=(l,t)=>{let n=[];Cs.forEach(a=>{let e={};Object.keys(a).forEach(h=>{h!=="count"?e[h]=a[h]:e.count=0}),n.push(e)});let s=t?"utfRegex":"isoRegex";return n.forEach(a=>{if(a[s]){let e=l.content.match(a[s]);e&&(a.count=e.length)}}),n}});var oi=V((Dr,ri)=>{ri.exports=(l,t)=>{let n=new RegExp(/\d|\n|\s|\-|\.|\,|\:|\;|\?|\!|\<|\>|\[|\]|\{|\}|\&|\=|\|/,"g"),s=l.content.replace(n,"").length,a=l.languageArr,e=l.pos,h=a.reduce((k,E)=>k.name===t.language?E:E.name===t.language||k.count>=E.count?k:E),p=a[e].count/(h.count+a[e].count),u=a[e].count/s,g=null,x=null,C=.8;t.encoding==="UTF-8"||t.encoding==="UTF-16LE"?(g=a[e].utfFrequency?a[e].utfFrequency.low*C:null,x=a[e].utfFrequency?(a[e].utfFrequency.low+a[e].utfFrequency.high)/2:null):(g=a[e].isoFrequency?a[e].isoFrequency.low*C:null,x=a[e].isoFrequency?(a[e].isoFrequency.low+a[e].isoFrequency.high)/2:null);let v;if(!g||!x)v=null;else if(u>=x)v=1;else if(u>g){let k=x-g,D=(u-g)/k,z=(1-p)*D;v=Number((p+z).toFixed(2))}else v=Number((p*(u/g)).toFixed(2));return v}});var Be=V((Hr,ai)=>{ai.exports=[{encoding:"UTF-EBCDIC",regex:new RegExp("221 115 102 115")},{encoding:"GB-18030",regex:new RegExp("132 49 149 51")},{encoding:"UTF-32LE",regex:new RegExp("255 254 0 0")},{encoding:"UTF-32BE",regex:new RegExp("0 0 254 255")},{encoding:"UTF-8",regex:new RegExp("239 187 191")},{encoding:"UTF-7",regex:new RegExp("43 47 118")},{encoding:"UTF-1",regex:new RegExp("247 100 76")},{encoding:"SCSU",regex:new RegExp("14 254 255")},{encoding:"BOCU-1",regex:new RegExp("251 238 40")},{encoding:"UTF-16BE",regex:new RegExp("254 255")},{encoding:"UTF-16LE",regex:new RegExp("255 254")}]});var ci=V((Nr,li)=>{var Es=si(),Fs=oi(),$s=Be();li.exports=(l,t)=>{l.languageArr=Es(l,t.encoding),t.language=l.languageArr.reduce((s,a)=>s.count>a.count?s:a).name,l.pos=l.languageArr.findIndex(s=>s.name===t.language),t.encoding||(t.encoding=l.languageArr[l.pos].encoding);let n=Fs(l,t);return t.confidence.encoding||(t.confidence.encoding=n),t.confidence.language=n,l.languageArr[l.pos].count||(t.language=null,t.confidence.language=null,$s.some(s=>s.encoding===t.encoding)||(t.encoding=null,t.confidence.encoding=null)),t}});var hi=V((Vr,ui)=>{var As=Be();ui.exports=l=>{for(let t of As)if(t.regex.test(l))return t.encoding;return null}});var gi=V((jr,pi)=>{var fi=require("fs"),Os=require("stream"),Rs=ei(),We=ci(),Ss=hi();function ks(l,t,n){return l instanceof Buffer?Os.Readable.from(l.subarray(t,n)):fi.createReadStream(l,{start:t,end:n})}function Ue(l,t,n){return l instanceof Buffer?n(null,l.toString(t)):fi.readFile(l,t,n)}pi.exports=l=>new Promise((t,n)=>{let s=!0,a={encoding:null,language:null,confidence:{encoding:null,language:null}},e={},h=ks(l,0,3);h.on("data",function(p){s=!1;let g=new Uint8Array(p).join(" "),x=Ss(g);x?(a.encoding=x,a.confidence.encoding=1,a.encoding==="UTF-8"||a.encoding==="UTF-16LE"?Ue(l,a.encoding,(C,v)=>{C&&n(C),e.content=v,t(We(e,a))}):(a.encoding==="GB-18030"&&(a.language="chinese-simplified",a.confidence.language=1),t(a))):Ue(l,"UTF-8",(C,v)=>{C&&n(C);let k=Rs(v);k&&(a.encoding="UTF-8",a.confidence.encoding=1),k?(e.content=v,t(We(e,a))):Ue(l,"latin1",(E,D)=>{E&&n(E),e.content=D,t(We(e,a))})})}),h.on("end",function(){s&&t(a)}),h.on("error",function(p){n(p)})})});var _i=V((Ir,wi)=>{var qs={window:0,commandbutton:1,tab:2,userobject:3,datawindow:4,radiobutton:5,checkbox:6,dropdownlistbox:7,editmask:8,singlelineedit:9,statictext:10},Ts={structure:101},P={Transparent:"#FFFFFFFF",WindowBackgroud:"#FFFFFF",WindowText:"#BFBFBFB2",ApplicationWorkspace:"#ABABAB",ButtonFace:"#F0F0F0",ScrollBar:"#C8C8C8",Desktop:"#000000",ActiveTitleBar:"#99B4D1",InactiveTitleBar:"#99B4D1",MenuBar:"#F0F0F0",WindowFrame:"#646464",MenuText:"#000000",ActiveTitlebarText:"#BFBFBFB2",ActiveBorder:"#B4B4B4",InactiveBorder:"#F4F7FC",Highlight:"#0078D7",HighlightText:"#FFFFFF",ButtonShadow:"#A0A0A0",DisabledText:"#6D6D6D",ButtonText:"#BFBFBFB2",InactiveTitleBarText:"#BFBFBFB2",ButtonHighlight:"#FFFFFF",ButtonDarkShadow:"#696969",ButtonLightShadow:"#E3E3E3",TooltipText:"#000000",Tooltip:"#FFFFE1",Link:"#0000FF",LinkHover:"#FF0000",LinkActive:"#800080",LinkVisited:"#800080"},ze=class{constructor(t,n){typeof t=="string"?this.syntax=JSON.parse(t):this.syntax=t,this.root={},this.window=this.parse(n)}parse(t){let n=this.syntax[t];if(!n)return;let s=[];n.forEach(h=>{h.key==="definetype"?s.push(h):h.key==="event"&&h.name==="clicked"&&s.length>0&&s[s.length-1].props.push(h)});let a={},e;for(let h of s){let{from:p,props:u}=h;if(Ts[p])continue;let g=h.type;a[g]||(a[g]={});let x=a[g];x.name=g,x.within=h.within,x.from=h.from,x.global=h.global,x.pname=h.pname;for(let C of u)if(C.key==="property"){let v=C.data.name;x[v]=Hs(v,C.data.value)}else C.key==="event"&&C.name==="clicked"&&(x["clicked!"]=C.codes);if(x.within===null)e=x;else{let C=a[x.within];C||(C=a[x.within]={}),C.controls||(C.controls=[]),C.controls.push(x),x.parent=C}qs[p]===void 0&&(this.root[p]=this.parse(p))}return this.root[t]=e,e}toAmis(t){let n={type:"page",cssVars:{"--checkbox-checkbox-default-fontSize":""},data:{},css:{},body:{},events:[]};return this.window&&(n.body=mi(this.window,this.root,n.css,t,n),t||n.body.body.push({type:"loaddetector"})),n}};function Ps(l){return l==="true"}function Ls(l){return l=l.substr(1,l.length-2),l.split("~~").map(n=>parseInt(n))}function Ds(l){if(typeof l=="string"){if(l.length>0&&l.charAt(0)==='"'){let t=!1,n=[];for(let s=1;s<l.length-1;s++){let a=l.charAt(s);if(a==="~"&&t===!1){t=!0;continue}if(t)switch(a){case"r":n.push("\r");break;case"n":n.push(`
`);break;case"~":n.push("~");break;case'"':n.push('"');break;default:n.push(" ");break}else n.push(a);t=!1}return n.join("")}return l}}function Hs(l,t){if(l.substr(-2,2)==="[]")return t;switch(l){case"width":case"x":return di(t,!0,0);case"height":case"y":return di(t,!1,0);case"text":case"title":return Ds(t);case"backcolor":return Ns(t);case"textsize":return Math.abs(Oe(t));case"increment":return Oe(t);case"spin":case"visible":return Ps(t);default:return t}}function di(l,t,n){switch(l=Oe(l),n||(n=0),n){case 0:return Math.round(t?l*.21875:l*.25);case 1:return l;case 2:return l;case 3:return l;default:return l}}function Ns(l){l=Oe(l);let t=[{value:16777215,color:P.Transparent},{value:536870912,color:P.Transparent},{value:553648127,color:P.Transparent},{value:1073741824,color:P.WindowBackgroud},{value:33554432,color:P.WindowText},{value:268435456,color:P.ApplicationWorkspace},{value:67108864,color:P.ButtonFace},{value:134217728,color:P.ScrollBar},{value:134217729,color:P.Desktop},{value:134217730,color:P.ActiveTitleBar},{value:134217731,color:P.InactiveTitleBar},{value:134217732,color:P.MenuBar},{value:134217734,color:P.WindowFrame},{value:134217735,color:P.MenuText},{value:134217737,color:P.ActiveTitlebarText},{value:134217738,color:P.ActiveBorder},{value:134217739,color:P.InactiveBorder},{value:134217741,color:P.Highlight},{value:134217742,color:P.HighlightText},{value:134217744,color:P.ButtonShadow},{value:134217745,color:P.DisabledText},{value:134217746,color:P.ButtonText},{value:134217747,color:P.InactiveTitleBarText},{value:134217748,color:P.ButtonHighlight},{value:134217749,color:P.ButtonDarkShadow},{value:134217750,color:P.ButtonLightShadow},{value:134217751,color:P.TooltipText},{value:134217752,color:P.Tooltip},{value:134217856,color:P.Link},{value:134217857,color:P.LinkHover},{value:134217858,color:P.LinkActive},{value:134217859,color:P.LinkVisited}];for(let p of t)if(p.value===l)return p.color;let n=l&255,s=l>>8&255,a=l>>16&255,e=p=>{let u=p.toString(16);return u.length<2&&(u=`0${u}`),u};return`#${e(n)}${e(s)}${e(a)}`}function Oe(l){return typeof l=="string"?l.length>0?(l.charAt(0)==='"'&&(l.charAt(l.length-1)!=='"'?l=l.substring(1):l=l.substring(1,l.length-1)),parseInt(l)):0:l}function Vs(l,t){let n=l.from,s=[l];if(t)for(let h;h=t[n];h)n=h.from,s.unshift(h);let a={},e=[];for(let h of s)if(Object.assign(a,h),h.controls)for(let p of h.controls)if(p.pname){let u=e.find(g=>g.name===p.pname);if(u&&u!==p)for(let g in p)g!=="pname"&&g!=="controls"&&g!=="parent"&&g!=="from"&&(u[g]=p[g])}else e.push(p);return{ctype:n,attr:a,ctrls:e}}function mi(l,t,n,s,a){let{ctype:e,attr:h,ctrls:p}=Vs(l,t),u={id:l.name,name:l.name,className:l.name,style:{left:h.x,top:h.y,width:h.width,height:h.height,position:"absolute"}};h.textsize&&(u.style.fontSize=h.textsize+"px"),h.visible===!1&&(u.visible=!1);let g=h.text?h.text:"",x;if(e==="window")u.type="wrapper",delete u.style.left,delete u.style.top,x=u.body=[],u.style.position="relative";else if(e==="tab")u.type="tabs",x=u.tabs=[];else if(e==="userobject")if(l.parent.from==="tab"){let C=u;u={},u.title=l.text,u.tab={type:"wrapper",body:[]},Object.assign(u.tab,C),x=u.tab.body}else u.type="wrapper",x=u.body=[];else if(e==="singlelineedit")u.type="input-text",u.value=g,u.inputControlClassName=`${l.name}`,n[`.${l.name}`]={height:h.height+"px!important",padding:"0px 5px!important"};else if(e==="multilineedit")u.type="textarea",u.value=g,n[`.${l.name} textarea`]={"max-height":`${h.height}px`,"min-height":`${h.height}px`,resize:"none"};else if(e==="commandbutton"){if(u.type="button",u.label=g,h["clicked!"]){let C=`{{${l.name}_clicked}}`;u.onClick=C,a.events.push({name:l.name,key:C})}}else if(e==="statictext")u.type="tpl",u.tpl="${"+l.name+"}",a.data[l.name]=g;else if(e==="datawindow")s?(u.type="tpl",u.className="b",u.tpl=`datawindow:${l.name}`):(u.type="datawindow",u.dataObjectURI=h.dataobject);else if(e==="dropdownlistbox"){if(u.type="select",u.name=l.name,u.options=[],l["item[]"])for(let C of l["item[]"])u.options.push({label:C,value:C})}else if(e==="editmask"){u.name=l.name;let{maskdatatype:C}=l;if(C==="datemask!")u.type="input-date",u.value=g,u.format="YYYY-MM-DD";else if(u.type="input-number",u.showSteps=l.spin,u.showSteps){let v=Ls(l.minmax);u.min=v[0],u.max=v[1],u.step=l.increment}}else e==="checkbox"?(u.type="checkbox",u.option=g):e==="radiobutton"?(u.type="radios",u.name="radios",u.options=[{label:g,value:l.name}]):e==="groupbox"?(u.type="html",u.html=`<fieldset style="border: 1px solid #DCDFE6;position: relative;height:${h.height}px"><legend>${g}</legend></fieldset>`):(u.type="tpl",u.className="b",u.tpl=`${l.from}:${l.name}`);for(let C of p){let v=mi(C,t,n,s,a);e==="tab"?x.push(v):x.unshift(v)}return u}wi.exports=ze});var ce=V(Je=>{var Re=class extends Error{constructor(t,n,s){super(s),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=n,this.exitCode=t,this.nestedError=void 0}},Ge=class extends Re{constructor(t){super(1,"commander.invalidArgument",t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};Je.CommanderError=Re;Je.InvalidArgumentError=Ge});var Se=V(Ye=>{var{InvalidArgumentError:js}=ce(),Xe=class{constructor(t,n){switch(this.description=n||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,t[0]){case"<":this.required=!0,this._name=t.slice(1,-1);break;case"[":this.required=!1,this._name=t.slice(1,-1);break;default:this.required=!0,this._name=t;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(t,n){return n===this.defaultValue||!Array.isArray(n)?[t]:n.concat(t)}default(t,n){return this.defaultValue=t,this.defaultValueDescription=n,this}argParser(t){return this.parseArg=t,this}choices(t){return this.argChoices=t.slice(),this.parseArg=(n,s)=>{if(!this.argChoices.includes(n))throw new js(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(n,s):n},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function Is(l){let t=l.name()+(l.variadic===!0?"...":"");return l.required?"<"+t+">":"["+t+"]"}Ye.Argument=Xe;Ye.humanReadableArgName=Is});var Ze=V(xi=>{var{humanReadableArgName:Ms}=Se(),Ke=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(t){let n=t.commands.filter(s=>!s._hidden);if(t._hasImplicitHelpCommand()){let[,s,a]=t._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),e=t.createCommand(s).helpOption(!1);e.description(t._helpCommandDescription),a&&e.arguments(a),n.push(e)}return this.sortSubcommands&&n.sort((s,a)=>s.name().localeCompare(a.name())),n}compareOptions(t,n){let s=a=>a.short?a.short.replace(/^-/,""):a.long.replace(/^--/,"");return s(t).localeCompare(s(n))}visibleOptions(t){let n=t.options.filter(e=>!e.hidden),s=t._hasHelpOption&&t._helpShortFlag&&!t._findOption(t._helpShortFlag),a=t._hasHelpOption&&!t._findOption(t._helpLongFlag);if(s||a){let e;s?a?e=t.createOption(t._helpFlags,t._helpDescription):e=t.createOption(t._helpShortFlag,t._helpDescription):e=t.createOption(t._helpLongFlag,t._helpDescription),n.push(e)}return this.sortOptions&&n.sort(this.compareOptions),n}visibleGlobalOptions(t){if(!this.showGlobalOptions)return[];let n=[];for(let s=t.parent;s;s=s.parent){let a=s.options.filter(e=>!e.hidden);n.push(...a)}return this.sortOptions&&n.sort(this.compareOptions),n}visibleArguments(t){return t._argsDescription&&t._args.forEach(n=>{n.description=n.description||t._argsDescription[n.name()]||""}),t._args.find(n=>n.description)?t._args:[]}subcommandTerm(t){let n=t._args.map(s=>Ms(s)).join(" ");return t._name+(t._aliases[0]?"|"+t._aliases[0]:"")+(t.options.length?" [options]":"")+(n?" "+n:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,n){return n.visibleCommands(t).reduce((s,a)=>Math.max(s,n.subcommandTerm(a).length),0)}longestOptionTermLength(t,n){return n.visibleOptions(t).reduce((s,a)=>Math.max(s,n.optionTerm(a).length),0)}longestGlobalOptionTermLength(t,n){return n.visibleGlobalOptions(t).reduce((s,a)=>Math.max(s,n.optionTerm(a).length),0)}longestArgumentTermLength(t,n){return n.visibleArguments(t).reduce((s,a)=>Math.max(s,n.argumentTerm(a).length),0)}commandUsage(t){let n=t._name;t._aliases[0]&&(n=n+"|"+t._aliases[0]);let s="";for(let a=t.parent;a;a=a.parent)s=a.name()+" "+s;return s+n+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){let n=[];return t.argChoices&&n.push(`choices: ${t.argChoices.map(s=>JSON.stringify(s)).join(", ")}`),t.defaultValue!==void 0&&(t.required||t.optional||t.isBoolean()&&typeof t.defaultValue=="boolean")&&n.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),t.presetArg!==void 0&&t.optional&&n.push(`preset: ${JSON.stringify(t.presetArg)}`),t.envVar!==void 0&&n.push(`env: ${t.envVar}`),n.length>0?`${t.description} (${n.join(", ")})`:t.description}argumentDescription(t){let n=[];if(t.argChoices&&n.push(`choices: ${t.argChoices.map(s=>JSON.stringify(s)).join(", ")}`),t.defaultValue!==void 0&&n.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),n.length>0){let s=`(${n.join(", ")})`;return t.description?`${t.description} ${s}`:s}return t.description}formatHelp(t,n){let s=n.padWidth(t,n),a=n.helpWidth||80,e=2,h=2;function p(E,D){if(D){let z=`${E.padEnd(s+h)}${D}`;return n.wrap(z,a-e,s+h)}return E}function u(E){return E.join(`
`).replace(/^/gm," ".repeat(e))}let g=[`Usage: ${n.commandUsage(t)}`,""],x=n.commandDescription(t);x.length>0&&(g=g.concat([n.wrap(x,a,0),""]));let C=n.visibleArguments(t).map(E=>p(n.argumentTerm(E),n.argumentDescription(E)));C.length>0&&(g=g.concat(["Arguments:",u(C),""]));let v=n.visibleOptions(t).map(E=>p(n.optionTerm(E),n.optionDescription(E)));if(v.length>0&&(g=g.concat(["Options:",u(v),""])),this.showGlobalOptions){let E=n.visibleGlobalOptions(t).map(D=>p(n.optionTerm(D),n.optionDescription(D)));E.length>0&&(g=g.concat(["Global Options:",u(E),""]))}let k=n.visibleCommands(t).map(E=>p(n.subcommandTerm(E),n.subcommandDescription(E)));return k.length>0&&(g=g.concat(["Commands:",u(k),""])),g.join(`
`)}padWidth(t,n){return Math.max(n.longestOptionTermLength(t,n),n.longestGlobalOptionTermLength(t,n),n.longestSubcommandTermLength(t,n),n.longestArgumentTermLength(t,n))}wrap(t,n,s,a=40){let e=" \\f\\t\\v\xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF",h=new RegExp(`[\\n][${e}]+`);if(t.match(h))return t;let p=n-s;if(p<a)return t;let u=t.slice(0,s),g=t.slice(s).replace(`\r
`,`
`),x=" ".repeat(s),v="\\s\u200B",k=new RegExp(`
|.{1,${p-1}}([${v}]|$)|[^${v}]+?([${v}]|$)`,"g"),E=g.match(k)||[];return u+E.map((D,z)=>D===`
`?"":(z>0?x:"")+D.trimEnd()).join(`
`)}};xi.Help=Ke});var tt=V(ke=>{var{InvalidArgumentError:Bs}=ce(),Qe=class{constructor(t,n){this.flags=t,this.description=n||"",this.required=t.includes("<"),this.optional=t.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(t),this.mandatory=!1;let s=bi(t);this.short=s.shortFlag,this.long=s.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(t,n){return this.defaultValue=t,this.defaultValueDescription=n,this}preset(t){return this.presetArg=t,this}conflicts(t){return this.conflictsWith=this.conflictsWith.concat(t),this}implies(t){let n=t;return typeof t=="string"&&(n={[t]:!0}),this.implied=Object.assign(this.implied||{},n),this}env(t){return this.envVar=t,this}argParser(t){return this.parseArg=t,this}makeOptionMandatory(t=!0){return this.mandatory=!!t,this}hideHelp(t=!0){return this.hidden=!!t,this}_concatValue(t,n){return n===this.defaultValue||!Array.isArray(n)?[t]:n.concat(t)}choices(t){return this.argChoices=t.slice(),this.parseArg=(n,s)=>{if(!this.argChoices.includes(n))throw new Bs(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(n,s):n},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return Ws(this.name().replace(/^no-/,""))}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}},et=class{constructor(t){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,t.forEach(n=>{n.negate?this.negativeOptions.set(n.attributeName(),n):this.positiveOptions.set(n.attributeName(),n)}),this.negativeOptions.forEach((n,s)=>{this.positiveOptions.has(s)&&this.dualOptions.add(s)})}valueFromOption(t,n){let s=n.attributeName();if(!this.dualOptions.has(s))return!0;let a=this.negativeOptions.get(s).presetArg,e=a!==void 0?a:!1;return n.negate===(e===t)}};function Ws(l){return l.split("-").reduce((t,n)=>t+n[0].toUpperCase()+n.slice(1))}function bi(l){let t,n,s=l.split(/[ |,]+/);return s.length>1&&!/^[[<]/.test(s[1])&&(t=s.shift()),n=s.shift(),!t&&/^-[^-]$/.test(n)&&(t=n,n=void 0),{shortFlag:t,longFlag:n}}ke.Option=Qe;ke.splitOptionFlags=bi;ke.DualOptions=et});var vi=V(yi=>{function Us(l,t){if(Math.abs(l.length-t.length)>3)return Math.max(l.length,t.length);let n=[];for(let s=0;s<=l.length;s++)n[s]=[s];for(let s=0;s<=t.length;s++)n[0][s]=s;for(let s=1;s<=t.length;s++)for(let a=1;a<=l.length;a++){let e=1;l[a-1]===t[s-1]?e=0:e=1,n[a][s]=Math.min(n[a-1][s]+1,n[a][s-1]+1,n[a-1][s-1]+e),a>1&&s>1&&l[a-1]===t[s-2]&&l[a-2]===t[s-1]&&(n[a][s]=Math.min(n[a][s],n[a-2][s-2]+1))}return n[l.length][t.length]}function zs(l,t){if(!t||t.length===0)return"";t=Array.from(new Set(t));let n=l.startsWith("--");n&&(l=l.slice(2),t=t.map(h=>h.slice(2)));let s=[],a=3,e=.4;return t.forEach(h=>{if(h.length<=1)return;let p=Us(l,h),u=Math.max(l.length,h.length);(u-p)/u>e&&(p<a?(a=p,s=[h]):p===a&&s.push(h))}),s.sort((h,p)=>h.localeCompare(p)),n&&(s=s.map(h=>`--${h}`)),s.length>1?`
(Did you mean one of ${s.join(", ")}?)`:s.length===1?`
(Did you mean ${s[0]}?)`:""}yi.suggestSimilar=zs});var Oi=V(Ai=>{var Gs=require("events").EventEmitter,it=require("child_process"),Y=require("path"),nt=require("fs"),H=require("process"),{Argument:Js,humanReadableArgName:Xs}=Se(),{CommanderError:st}=ce(),{Help:Ys}=Ze(),{Option:Ci,splitOptionFlags:Ks,DualOptions:Zs}=tt(),{suggestSimilar:Ei}=vi(),rt=class l extends Gs{constructor(t){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this._args=[],this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=t||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:n=>H.stdout.write(n),writeErr:n=>H.stderr.write(n),getOutHelpWidth:()=>H.stdout.isTTY?H.stdout.columns:void 0,getErrHelpWidth:()=>H.stderr.isTTY?H.stderr.columns:void 0,outputError:(n,s)=>s(n)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(t){return this._outputConfiguration=t._outputConfiguration,this._hasHelpOption=t._hasHelpOption,this._helpFlags=t._helpFlags,this._helpDescription=t._helpDescription,this._helpShortFlag=t._helpShortFlag,this._helpLongFlag=t._helpLongFlag,this._helpCommandName=t._helpCommandName,this._helpCommandnameAndArgs=t._helpCommandnameAndArgs,this._helpCommandDescription=t._helpCommandDescription,this._helpConfiguration=t._helpConfiguration,this._exitCallback=t._exitCallback,this._storeOptionsAsProperties=t._storeOptionsAsProperties,this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue,this._allowExcessArguments=t._allowExcessArguments,this._enablePositionalOptions=t._enablePositionalOptions,this._showHelpAfterError=t._showHelpAfterError,this._showSuggestionAfterError=t._showSuggestionAfterError,this}command(t,n,s){let a=n,e=s;typeof a=="object"&&a!==null&&(e=a,a=null),e=e||{};let[,h,p]=t.match(/([^ ]+) *(.*)/),u=this.createCommand(h);return a&&(u.description(a),u._executableHandler=!0),e.isDefault&&(this._defaultCommandName=u._name),u._hidden=!!(e.noHelp||e.hidden),u._executableFile=e.executableFile||null,p&&u.arguments(p),this.commands.push(u),u.parent=this,u.copyInheritedSettings(this),a?this:u}createCommand(t){return new l(t)}createHelp(){return Object.assign(new Ys,this.configureHelp())}configureHelp(t){return t===void 0?this._helpConfiguration:(this._helpConfiguration=t,this)}configureOutput(t){return t===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,t),this)}showHelpAfterError(t=!0){return typeof t!="string"&&(t=!!t),this._showHelpAfterError=t,this}showSuggestionAfterError(t=!0){return this._showSuggestionAfterError=!!t,this}addCommand(t,n){if(!t._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return n=n||{},n.isDefault&&(this._defaultCommandName=t._name),(n.noHelp||n.hidden)&&(t._hidden=!0),this.commands.push(t),t.parent=this,this}createArgument(t,n){return new Js(t,n)}argument(t,n,s,a){let e=this.createArgument(t,n);return typeof s=="function"?e.default(a).argParser(s):e.default(s),this.addArgument(e),this}arguments(t){return t.trim().split(/ +/).forEach(n=>{this.argument(n)}),this}addArgument(t){let n=this._args.slice(-1)[0];if(n&&n.variadic)throw new Error(`only the last argument can be variadic '${n.name()}'`);if(t.required&&t.defaultValue!==void 0&&t.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${t.name()}'`);return this._args.push(t),this}addHelpCommand(t,n){return t===!1?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,typeof t=="string"&&(this._helpCommandName=t.split(" ")[0],this._helpCommandnameAndArgs=t),this._helpCommandDescription=n||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return this._addImplicitHelpCommand===void 0?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(t,n){let s=["preSubcommand","preAction","postAction"];if(!s.includes(t))throw new Error(`Unexpected value for event passed to hook : '${t}'.
Expecting one of '${s.join("', '")}'`);return this._lifeCycleHooks[t]?this._lifeCycleHooks[t].push(n):this._lifeCycleHooks[t]=[n],this}exitOverride(t){return t?this._exitCallback=t:this._exitCallback=n=>{if(n.code!=="commander.executeSubCommandAsync")throw n},this}_exit(t,n,s){this._exitCallback&&this._exitCallback(new st(t,n,s)),H.exit(t)}action(t){let n=s=>{let a=this._args.length,e=s.slice(0,a);return this._storeOptionsAsProperties?e[a]=this:e[a]=this.opts(),e.push(this),t.apply(this,e)};return this._actionHandler=n,this}createOption(t,n){return new Ci(t,n)}addOption(t){let n=t.name(),s=t.attributeName();if(t.negate){let e=t.long.replace(/^--no-/,"--");this._findOption(e)||this.setOptionValueWithSource(s,t.defaultValue===void 0?!0:t.defaultValue,"default")}else t.defaultValue!==void 0&&this.setOptionValueWithSource(s,t.defaultValue,"default");this.options.push(t);let a=(e,h,p)=>{e==null&&t.presetArg!==void 0&&(e=t.presetArg);let u=this.getOptionValue(s);if(e!==null&&t.parseArg)try{e=t.parseArg(e,u)}catch(g){if(g.code==="commander.invalidArgument"){let x=`${h} ${g.message}`;this.error(x,{exitCode:g.exitCode,code:g.code})}throw g}else e!==null&&t.variadic&&(e=t._concatValue(e,u));e==null&&(t.negate?e=!1:t.isBoolean()||t.optional?e=!0:e=""),this.setOptionValueWithSource(s,e,p)};return this.on("option:"+n,e=>{let h=`error: option '${t.flags}' argument '${e}' is invalid.`;a(e,h,"cli")}),t.envVar&&this.on("optionEnv:"+n,e=>{let h=`error: option '${t.flags}' value '${e}' from env '${t.envVar}' is invalid.`;a(e,h,"env")}),this}_optionEx(t,n,s,a,e){if(typeof n=="object"&&n instanceof Ci)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let h=this.createOption(n,s);if(h.makeOptionMandatory(!!t.mandatory),typeof a=="function")h.default(e).argParser(a);else if(a instanceof RegExp){let p=a;a=(u,g)=>{let x=p.exec(u);return x?x[0]:g},h.default(e).argParser(a)}else h.default(a);return this.addOption(h)}option(t,n,s,a){return this._optionEx({},t,n,s,a)}requiredOption(t,n,s,a){return this._optionEx({mandatory:!0},t,n,s,a)}combineFlagAndOptionalValue(t=!0){return this._combineFlagAndOptionalValue=!!t,this}allowUnknownOption(t=!0){return this._allowUnknownOption=!!t,this}allowExcessArguments(t=!0){return this._allowExcessArguments=!!t,this}enablePositionalOptions(t=!0){return this._enablePositionalOptions=!!t,this}passThroughOptions(t=!0){if(this._passThroughOptions=!!t,this.parent&&t&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(t=!0){if(this._storeOptionsAsProperties=!!t,this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this}getOptionValue(t){return this._storeOptionsAsProperties?this[t]:this._optionValues[t]}setOptionValue(t,n){return this.setOptionValueWithSource(t,n,void 0)}setOptionValueWithSource(t,n,s){return this._storeOptionsAsProperties?this[t]=n:this._optionValues[t]=n,this._optionValueSources[t]=s,this}getOptionValueSource(t){return this._optionValueSources[t]}getOptionValueSourceWithGlobals(t){let n;return ue(this).forEach(s=>{s.getOptionValueSource(t)!==void 0&&(n=s.getOptionValueSource(t))}),n}_prepareUserArgs(t,n){if(t!==void 0&&!Array.isArray(t))throw new Error("first parameter to parse must be array or undefined");n=n||{},t===void 0&&(t=H.argv,H.versions&&H.versions.electron&&(n.from="electron")),this.rawArgs=t.slice();let s;switch(n.from){case void 0:case"node":this._scriptPath=t[1],s=t.slice(2);break;case"electron":H.defaultApp?(this._scriptPath=t[1],s=t.slice(2)):s=t.slice(1);break;case"user":s=t.slice(0);break;default:throw new Error(`unexpected parse option { from: '${n.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",s}parse(t,n){let s=this._prepareUserArgs(t,n);return this._parseCommand([],s),this}async parseAsync(t,n){let s=this._prepareUserArgs(t,n);return await this._parseCommand([],s),this}_executeSubCommand(t,n){n=n.slice();let s=!1,a=[".js",".ts",".tsx",".mjs",".cjs"];function e(x,C){let v=Y.resolve(x,C);if(nt.existsSync(v))return v;if(a.includes(Y.extname(C)))return;let k=a.find(E=>nt.existsSync(`${v}${E}`));if(k)return`${v}${k}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let h=t._executableFile||`${this._name}-${t._name}`,p=this._executableDir||"";if(this._scriptPath){let x;try{x=nt.realpathSync(this._scriptPath)}catch{x=this._scriptPath}p=Y.resolve(Y.dirname(x),p)}if(p){let x=e(p,h);if(!x&&!t._executableFile&&this._scriptPath){let C=Y.basename(this._scriptPath,Y.extname(this._scriptPath));C!==this._name&&(x=e(p,`${C}-${t._name}`))}h=x||h}s=a.includes(Y.extname(h));let u;H.platform!=="win32"?s?(n.unshift(h),n=$i(H.execArgv).concat(n),u=it.spawn(H.argv[0],n,{stdio:"inherit"})):u=it.spawn(h,n,{stdio:"inherit"}):(n.unshift(h),n=$i(H.execArgv).concat(n),u=it.spawn(H.execPath,n,{stdio:"inherit"})),u.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(C=>{H.on(C,()=>{u.killed===!1&&u.exitCode===null&&u.kill(C)})});let g=this._exitCallback;g?u.on("close",()=>{g(new st(H.exitCode||0,"commander.executeSubCommandAsync","(close)"))}):u.on("close",H.exit.bind(H)),u.on("error",x=>{if(x.code==="ENOENT"){let C=p?`searched for local subcommand relative to directory '${p}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",v=`'${h}' does not exist
 - if '${t._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${C}`;throw new Error(v)}else if(x.code==="EACCES")throw new Error(`'${h}' not executable`);if(!g)H.exit(1);else{let C=new st(1,"commander.executeSubCommandAsync","(error)");C.nestedError=x,g(C)}}),this.runningCommand=u}_dispatchSubcommand(t,n,s){let a=this._findCommand(t);a||this.help({error:!0});let e;return e=this._chainOrCallSubCommandHook(e,a,"preSubcommand"),e=this._chainOrCall(e,()=>{if(a._executableHandler)this._executeSubCommand(a,n.concat(s));else return a._parseCommand(n,s)}),e}_dispatchHelpCommand(t){t||this.help();let n=this._findCommand(t);return n&&!n._executableHandler&&n.help(),this._dispatchSubcommand(t,[],[this._helpLongFlag])}_checkNumberOfArguments(){this._args.forEach((t,n)=>{t.required&&this.args[n]==null&&this.missingArgument(t.name())}),!(this._args.length>0&&this._args[this._args.length-1].variadic)&&this.args.length>this._args.length&&this._excessArguments(this.args)}_processArguments(){let t=(s,a,e)=>{let h=a;if(a!==null&&s.parseArg)try{h=s.parseArg(a,e)}catch(p){if(p.code==="commander.invalidArgument"){let u=`error: command-argument value '${a}' is invalid for argument '${s.name()}'. ${p.message}`;this.error(u,{exitCode:p.exitCode,code:p.code})}throw p}return h};this._checkNumberOfArguments();let n=[];this._args.forEach((s,a)=>{let e=s.defaultValue;s.variadic?a<this.args.length?(e=this.args.slice(a),s.parseArg&&(e=e.reduce((h,p)=>t(s,p,h),s.defaultValue))):e===void 0&&(e=[]):a<this.args.length&&(e=this.args[a],s.parseArg&&(e=t(s,e,s.defaultValue))),n[a]=e}),this.processedArgs=n}_chainOrCall(t,n){return t&&t.then&&typeof t.then=="function"?t.then(()=>n()):n()}_chainOrCallHooks(t,n){let s=t,a=[];return ue(this).reverse().filter(e=>e._lifeCycleHooks[n]!==void 0).forEach(e=>{e._lifeCycleHooks[n].forEach(h=>{a.push({hookedCommand:e,callback:h})})}),n==="postAction"&&a.reverse(),a.forEach(e=>{s=this._chainOrCall(s,()=>e.callback(e.hookedCommand,this))}),s}_chainOrCallSubCommandHook(t,n,s){let a=t;return this._lifeCycleHooks[s]!==void 0&&this._lifeCycleHooks[s].forEach(e=>{a=this._chainOrCall(a,()=>e(this,n))}),a}_parseCommand(t,n){let s=this.parseOptions(n);if(this._parseOptionsEnv(),this._parseOptionsImplied(),t=t.concat(s.operands),n=s.unknown,this.args=t.concat(n),t&&this._findCommand(t[0]))return this._dispatchSubcommand(t[0],t.slice(1),n);if(this._hasImplicitHelpCommand()&&t[0]===this._helpCommandName)return this._dispatchHelpCommand(t[1]);if(this._defaultCommandName)return Fi(this,n),this._dispatchSubcommand(this._defaultCommandName,t,n);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),Fi(this,s.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let a=()=>{s.unknown.length>0&&this.unknownOption(s.unknown[0])},e=`command:${this.name()}`;if(this._actionHandler){a(),this._processArguments();let h;return h=this._chainOrCallHooks(h,"preAction"),h=this._chainOrCall(h,()=>this._actionHandler(this.processedArgs)),this.parent&&(h=this._chainOrCall(h,()=>{this.parent.emit(e,t,n)})),h=this._chainOrCallHooks(h,"postAction"),h}if(this.parent&&this.parent.listenerCount(e))a(),this._processArguments(),this.parent.emit(e,t,n);else if(t.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",t,n);this.listenerCount("command:*")?this.emit("command:*",t,n):this.commands.length?this.unknownCommand():(a(),this._processArguments())}else this.commands.length?(a(),this.help({error:!0})):(a(),this._processArguments())}_findCommand(t){if(t)return this.commands.find(n=>n._name===t||n._aliases.includes(t))}_findOption(t){return this.options.find(n=>n.is(t))}_checkForMissingMandatoryOptions(){for(let t=this;t;t=t.parent)t.options.forEach(n=>{n.mandatory&&t.getOptionValue(n.attributeName())===void 0&&t.missingMandatoryOptionValue(n)})}_checkForConflictingLocalOptions(){let t=this.options.filter(s=>{let a=s.attributeName();return this.getOptionValue(a)===void 0?!1:this.getOptionValueSource(a)!=="default"});t.filter(s=>s.conflictsWith.length>0).forEach(s=>{let a=t.find(e=>s.conflictsWith.includes(e.attributeName()));a&&this._conflictingOption(s,a)})}_checkForConflictingOptions(){for(let t=this;t;t=t.parent)t._checkForConflictingLocalOptions()}parseOptions(t){let n=[],s=[],a=n,e=t.slice();function h(u){return u.length>1&&u[0]==="-"}let p=null;for(;e.length;){let u=e.shift();if(u==="--"){a===s&&a.push(u),a.push(...e);break}if(p&&!h(u)){this.emit(`option:${p.name()}`,u);continue}if(p=null,h(u)){let g=this._findOption(u);if(g){if(g.required){let x=e.shift();x===void 0&&this.optionMissingArgument(g),this.emit(`option:${g.name()}`,x)}else if(g.optional){let x=null;e.length>0&&!h(e[0])&&(x=e.shift()),this.emit(`option:${g.name()}`,x)}else this.emit(`option:${g.name()}`);p=g.variadic?g:null;continue}}if(u.length>2&&u[0]==="-"&&u[1]!=="-"){let g=this._findOption(`-${u[1]}`);if(g){g.required||g.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${g.name()}`,u.slice(2)):(this.emit(`option:${g.name()}`),e.unshift(`-${u.slice(2)}`));continue}}if(/^--[^=]+=/.test(u)){let g=u.indexOf("="),x=this._findOption(u.slice(0,g));if(x&&(x.required||x.optional)){this.emit(`option:${x.name()}`,u.slice(g+1));continue}}if(h(u)&&(a=s),(this._enablePositionalOptions||this._passThroughOptions)&&n.length===0&&s.length===0){if(this._findCommand(u)){n.push(u),e.length>0&&s.push(...e);break}else if(u===this._helpCommandName&&this._hasImplicitHelpCommand()){n.push(u),e.length>0&&n.push(...e);break}else if(this._defaultCommandName){s.push(u),e.length>0&&s.push(...e);break}}if(this._passThroughOptions){a.push(u),e.length>0&&a.push(...e);break}a.push(u)}return{operands:n,unknown:s}}opts(){if(this._storeOptionsAsProperties){let t={},n=this.options.length;for(let s=0;s<n;s++){let a=this.options[s].attributeName();t[a]=a===this._versionOptionName?this._version:this[a]}return t}return this._optionValues}optsWithGlobals(){return ue(this).reduce((t,n)=>Object.assign(t,n.opts()),{})}error(t,n){this._outputConfiguration.outputError(`${t}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let s=n||{},a=s.exitCode||1,e=s.code||"commander.error";this._exit(a,e,t)}_parseOptionsEnv(){this.options.forEach(t=>{if(t.envVar&&t.envVar in H.env){let n=t.attributeName();(this.getOptionValue(n)===void 0||["default","config","env"].includes(this.getOptionValueSource(n)))&&(t.required||t.optional?this.emit(`optionEnv:${t.name()}`,H.env[t.envVar]):this.emit(`optionEnv:${t.name()}`))}})}_parseOptionsImplied(){let t=new Zs(this.options),n=s=>this.getOptionValue(s)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(s));this.options.filter(s=>s.implied!==void 0&&n(s.attributeName())&&t.valueFromOption(this.getOptionValue(s.attributeName()),s)).forEach(s=>{Object.keys(s.implied).filter(a=>!n(a)).forEach(a=>{this.setOptionValueWithSource(a,s.implied[a],"implied")})})}missingArgument(t){let n=`error: missing required argument '${t}'`;this.error(n,{code:"commander.missingArgument"})}optionMissingArgument(t){let n=`error: option '${t.flags}' argument missing`;this.error(n,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){let n=`error: required option '${t.flags}' not specified`;this.error(n,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,n){let s=h=>{let p=h.attributeName(),u=this.getOptionValue(p),g=this.options.find(C=>C.negate&&p===C.attributeName()),x=this.options.find(C=>!C.negate&&p===C.attributeName());return g&&(g.presetArg===void 0&&u===!1||g.presetArg!==void 0&&u===g.presetArg)?g:x||h},a=h=>{let p=s(h),u=p.attributeName();return this.getOptionValueSource(u)==="env"?`environment variable '${p.envVar}'`:`option '${p.flags}'`},e=`error: ${a(t)} cannot be used with ${a(n)}`;this.error(e,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let n="";if(t.startsWith("--")&&this._showSuggestionAfterError){let a=[],e=this;do{let h=e.createHelp().visibleOptions(e).filter(p=>p.long).map(p=>p.long);a=a.concat(h),e=e.parent}while(e&&!e._enablePositionalOptions);n=Ei(t,a)}let s=`error: unknown option '${t}'${n}`;this.error(s,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;let n=this._args.length,s=n===1?"":"s",e=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${n} argument${s} but got ${t.length}.`;this.error(e,{code:"commander.excessArguments"})}unknownCommand(){let t=this.args[0],n="";if(this._showSuggestionAfterError){let a=[];this.createHelp().visibleCommands(this).forEach(e=>{a.push(e.name()),e.alias()&&a.push(e.alias())}),n=Ei(t,a)}let s=`error: unknown command '${t}'${n}`;this.error(s,{code:"commander.unknownCommand"})}version(t,n,s){if(t===void 0)return this._version;this._version=t,n=n||"-V, --version",s=s||"output the version number";let a=this.createOption(n,s);return this._versionOptionName=a.attributeName(),this.options.push(a),this.on("option:"+a.name(),()=>{this._outputConfiguration.writeOut(`${t}
`),this._exit(0,"commander.version",t)}),this}description(t,n){return t===void 0&&n===void 0?this._description:(this._description=t,n&&(this._argsDescription=n),this)}summary(t){return t===void 0?this._summary:(this._summary=t,this)}alias(t){if(t===void 0)return this._aliases[0];let n=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(n=this.commands[this.commands.length-1]),t===n._name)throw new Error("Command alias can't be the same as its name");return n._aliases.push(t),this}aliases(t){return t===void 0?this._aliases:(t.forEach(n=>this.alias(n)),this)}usage(t){if(t===void 0){if(this._usage)return this._usage;let n=this._args.map(s=>Xs(s));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this._args.length?n:[]).join(" ")}return this._usage=t,this}name(t){return t===void 0?this._name:(this._name=t,this)}nameFromFilename(t){return this._name=Y.basename(t,Y.extname(t)),this}executableDir(t){return t===void 0?this._executableDir:(this._executableDir=t,this)}helpInformation(t){let n=this.createHelp();return n.helpWidth===void 0&&(n.helpWidth=t&&t.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),n.formatHelp(this,n)}_getHelpContext(t){t=t||{};let n={error:!!t.error},s;return n.error?s=a=>this._outputConfiguration.writeErr(a):s=a=>this._outputConfiguration.writeOut(a),n.write=t.write||s,n.command=this,n}outputHelp(t){let n;typeof t=="function"&&(n=t,t=void 0);let s=this._getHelpContext(t);ue(this).reverse().forEach(e=>e.emit("beforeAllHelp",s)),this.emit("beforeHelp",s);let a=this.helpInformation(s);if(n&&(a=n(a),typeof a!="string"&&!Buffer.isBuffer(a)))throw new Error("outputHelp callback must return a string or a Buffer");s.write(a),this.emit(this._helpLongFlag),this.emit("afterHelp",s),ue(this).forEach(e=>e.emit("afterAllHelp",s))}helpOption(t,n){if(typeof t=="boolean")return this._hasHelpOption=t,this;this._helpFlags=t||this._helpFlags,this._helpDescription=n||this._helpDescription;let s=Ks(this._helpFlags);return this._helpShortFlag=s.shortFlag,this._helpLongFlag=s.longFlag,this}help(t){this.outputHelp(t);let n=H.exitCode||0;n===0&&t&&typeof t!="function"&&t.error&&(n=1),this._exit(n,"commander.help","(outputHelp)")}addHelpText(t,n){let s=["beforeAll","before","after","afterAll"];if(!s.includes(t))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${s.join("', '")}'`);let a=`${t}Help`;return this.on(a,e=>{let h;typeof n=="function"?h=n({error:e.error,command:e.command}):h=n,h&&e.write(`${h}
`)}),this}};function Fi(l,t){l._hasHelpOption&&t.find(s=>s===l._helpLongFlag||s===l._helpShortFlag)&&(l.outputHelp(),l._exit(0,"commander.helpDisplayed","(outputHelp)"))}function $i(l){return l.map(t=>{if(!t.startsWith("--inspect"))return t;let n,s="127.0.0.1",a="9229",e;return(e=t.match(/^(--inspect(-brk)?)$/))!==null?n=e[1]:(e=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(n=e[1],/^\d+$/.test(e[3])?a=e[3]:s=e[3]):(e=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(n=e[1],s=e[3],a=e[4]),n&&a!=="0"?`${n}=${s}:${parseInt(a)+1}`:t})}function ue(l){let t=[];for(let n=l;n;n=n.parent)t.push(n);return t}Ai.Command=rt});var qi=V((U,ki)=>{var{Argument:Qs}=Se(),{Command:Ri}=Oi(),{CommanderError:er,InvalidArgumentError:Si}=ce(),{Help:tr}=Ze(),{Option:ir}=tt();U=ki.exports=new Ri;U.program=U;U.Argument=Qs;U.Command=Ri;U.CommanderError=er;U.Help=tr;U.InvalidArgumentError=Si;U.InvalidOptionArgumentError=Si;U.Option=ir});var Li=V(X=>{"use strict";var nr=/[|\\{}()[\]^$+*?.]/g,sr=Object.prototype.hasOwnProperty,Pi=function(l,t){return sr.apply(l,[t])};X.escapeRegExpChars=function(l){return l?String(l).replace(nr,"\\$&"):""};var rr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},or=/[&<>'"]/g;function ar(l){return rr[l]||l}var lr=`var _ENCODE_HTML_RULES = {
      "&": "&amp;"
    , "<": "&lt;"
    , ">": "&gt;"
    , '"': "&#34;"
    , "'": "&#39;"
    }
  , _MATCH_HTML = /[&<>'"]/g;
function encode_char(c) {
  return _ENCODE_HTML_RULES[c] || c;
};
`;X.escapeXML=function(l){return l==null?"":String(l).replace(or,ar)};function Ti(){return Function.prototype.toString.call(this)+`;
`+lr}try{typeof Object.defineProperty=="function"?Object.defineProperty(X.escapeXML,"toString",{value:Ti}):X.escapeXML.toString=Ti}catch{console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)")}X.shallowCopy=function(l,t){if(t=t||{},l!=null)for(var n in t)Pi(t,n)&&(n==="__proto__"||n==="constructor"||(l[n]=t[n]));return l};X.shallowCopyFromList=function(l,t,n){if(n=n||[],t=t||{},l!=null)for(var s=0;s<n.length;s++){var a=n[s];if(typeof t[a]<"u"){if(!Pi(t,a)||a==="__proto__"||a==="constructor")continue;l[a]=t[a]}}return l};X.cache={_data:{},set:function(l,t){this._data[l]=t},get:function(l){return this._data[l]},remove:function(l){delete this._data[l]},reset:function(){this._data={}}};X.hyphenToCamel=function(l){return l.replace(/-[a-z]/g,function(t){return t[1].toUpperCase()})};X.createNullProtoObjWherePossible=function(){return typeof Object.create=="function"?function(){return Object.create(null)}:{__proto__:null}instanceof Object?function(){return{}}:function(){return{__proto__:null}}}()});var Di=V((Xr,cr)=>{cr.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"3.1.9",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",license:"Apache-2.0",bin:{ejs:"./bin/cli.js"},main:"./lib/ejs.js",jsdelivr:"ejs.min.js",unpkg:"ejs.min.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{jake:"^10.8.5"},devDependencies:{browserify:"^16.5.1",eslint:"^6.8.0","git-directory-deploy":"^1.5.1",jsdoc:"^4.0.2","lru-cache":"^4.0.1",mocha:"^10.2.0","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},scripts:{test:"mocha -u tdd"}}});var Ui=V(L=>{"use strict";var at=require("fs"),he=require("path"),j=Li(),Hi=!1,ur=Di().version,hr="<",fr=">",pr="%",Bi="locals",gr="ejs",dr="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",Wi=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],mr=Wi.concat("cache"),Ni=/^\uFEFF/,ot=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;L.cache=j.cache;L.fileLoader=at.readFileSync;L.localsName=Bi;L.promiseImpl=new Function("return this;")().Promise;L.resolveInclude=function(l,t,n){var s=he.dirname,a=he.extname,e=he.resolve,h=e(n?t:s(t),l),p=a(l);return p||(h+=".ejs"),h};function Vi(l,t){var n;if(t.some(function(s){return n=L.resolveInclude(l,s,!0),at.existsSync(n)}))return n}function wr(l,t){var n,s,a=t.views,e=/^[A-Za-z]+:\\|^\//.exec(l);if(e&&e.length)l=l.replace(/^\/*/,""),Array.isArray(t.root)?n=Vi(l,t.root):n=L.resolveInclude(l,t.root||"/",!0);else if(t.filename&&(s=L.resolveInclude(l,t.filename),at.existsSync(s)&&(n=s)),!n&&Array.isArray(a)&&(n=Vi(l,a)),!n&&typeof t.includer!="function")throw new Error('Could not find the include file "'+t.escapeFunction(l)+'"');return n}function fe(l,t){var n,s=l.filename,a=arguments.length>1;if(l.cache){if(!s)throw new Error("cache option requires a filename");if(n=L.cache.get(s),n)return n;a||(t=ji(s).toString().replace(Ni,""))}else if(!a){if(!s)throw new Error("Internal EJS error: no file name or template provided");t=ji(s).toString().replace(Ni,"")}return n=L.compile(t,l),l.cache&&L.cache.set(s,n),n}function _r(l,t,n){var s;if(n){try{s=fe(l)(t)}catch(a){return n(a)}n(null,s)}else{if(typeof L.promiseImpl=="function")return new L.promiseImpl(function(a,e){try{s=fe(l)(t),a(s)}catch(h){e(h)}});throw new Error("Please provide a callback function")}}function ji(l){return L.fileLoader(l)}function xr(l,t){var n=j.shallowCopy(j.createNullProtoObjWherePossible(),t);if(n.filename=wr(l,n),typeof t.includer=="function"){var s=t.includer(l,n.filename);if(s&&(s.filename&&(n.filename=s.filename),s.template))return fe(n,s.template)}return fe(n)}function Ii(l,t,n,s,a){var e=t.split(`
`),h=Math.max(s-3,0),p=Math.min(e.length,s+3),u=a(n),g=e.slice(h,p).map(function(x,C){var v=C+h+1;return(v==s?" >> ":"    ")+v+"| "+x}).join(`
`);throw l.path=u,l.message=(u||"ejs")+":"+s+`
`+g+`

`+l.message,l}function Mi(l){return l.replace(/;(\s*$)/,"$1")}L.compile=function(t,n){var s;return n&&n.scope&&(Hi||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),Hi=!0),n.context||(n.context=n.scope),delete n.scope),s=new I(t,n),s.compile()};L.render=function(l,t,n){var s=t||j.createNullProtoObjWherePossible(),a=n||j.createNullProtoObjWherePossible();return arguments.length==2&&j.shallowCopyFromList(a,s,Wi),fe(a,l)(s)};L.renderFile=function(){var l=Array.prototype.slice.call(arguments),t=l.shift(),n,s={filename:t},a,e;return typeof arguments[arguments.length-1]=="function"&&(n=l.pop()),l.length?(a=l.shift(),l.length?j.shallowCopy(s,l.pop()):(a.settings&&(a.settings.views&&(s.views=a.settings.views),a.settings["view cache"]&&(s.cache=!0),e=a.settings["view options"],e&&j.shallowCopy(s,e)),j.shallowCopyFromList(s,a,mr)),s.filename=t):a=j.createNullProtoObjWherePossible(),_r(s,a,n)};L.Template=I;L.clearCache=function(){L.cache.reset()};function I(l,t){t=t||j.createNullProtoObjWherePossible();var n=j.createNullProtoObjWherePossible();this.templateText=l,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",n.client=t.client||!1,n.escapeFunction=t.escape||t.escapeFunction||j.escapeXML,n.compileDebug=t.compileDebug!==!1,n.debug=!!t.debug,n.filename=t.filename,n.openDelimiter=t.openDelimiter||L.openDelimiter||hr,n.closeDelimiter=t.closeDelimiter||L.closeDelimiter||fr,n.delimiter=t.delimiter||L.delimiter||pr,n.strict=t.strict||!1,n.context=t.context,n.cache=t.cache||!1,n.rmWhitespace=t.rmWhitespace,n.root=t.root,n.includer=t.includer,n.outputFunctionName=t.outputFunctionName,n.localsName=t.localsName||L.localsName||Bi,n.views=t.views,n.async=t.async,n.destructuredLocals=t.destructuredLocals,n.legacyInclude=typeof t.legacyInclude<"u"?!!t.legacyInclude:!0,n.strict?n._with=!1:n._with=typeof t._with<"u"?t._with:!0,this.opts=n,this.regex=this.createRegex()}I.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"};I.prototype={createRegex:function(){var l=dr,t=j.escapeRegExpChars(this.opts.delimiter),n=j.escapeRegExpChars(this.opts.openDelimiter),s=j.escapeRegExpChars(this.opts.closeDelimiter);return l=l.replace(/%/g,t).replace(/</g,n).replace(/>/g,s),new RegExp(l)},compile:function(){var l,t,n=this.opts,s="",a="",e=n.escapeFunction,h,p=n.filename?JSON.stringify(n.filename):"undefined";if(!this.source){if(this.generateSource(),s+=`  var __output = "";
  function __append(s) { if (s !== undefined && s !== null) __output += s }
`,n.outputFunctionName){if(!ot.test(n.outputFunctionName))throw new Error("outputFunctionName is not a valid JS identifier.");s+="  var "+n.outputFunctionName+` = __append;
`}if(n.localsName&&!ot.test(n.localsName))throw new Error("localsName is not a valid JS identifier.");if(n.destructuredLocals&&n.destructuredLocals.length){for(var u="  var __locals = ("+n.localsName+` || {}),
`,g=0;g<n.destructuredLocals.length;g++){var x=n.destructuredLocals[g];if(!ot.test(x))throw new Error("destructuredLocals["+g+"] is not a valid JS identifier.");g>0&&(u+=`,
  `),u+=x+" = __locals."+x}s+=u+`;
`}n._with!==!1&&(s+="  with ("+n.localsName+` || {}) {
`,a+=`  }
`),a+=`  return __output;
`,this.source=s+this.source+a}n.compileDebug?l=`var __line = 1
  , __lines = `+JSON.stringify(this.templateText)+`
  , __filename = `+p+`;
try {
`+this.source+`} catch (e) {
  rethrow(e, __lines, __filename, __line, escapeFn);
}
`:l=this.source,n.client&&(l="escapeFn = escapeFn || "+e.toString()+`;
`+l,n.compileDebug&&(l="rethrow = rethrow || "+Ii.toString()+`;
`+l)),n.strict&&(l=`"use strict";
`+l),n.debug&&console.log(l),n.compileDebug&&n.filename&&(l=l+`
//# sourceURL=`+p+`
`);try{if(n.async)try{h=new Function("return (async function(){}).constructor;")()}catch(E){throw E instanceof SyntaxError?new Error("This environment does not support async/await"):E}else h=Function;t=new h(n.localsName+", escapeFn, include, rethrow",l)}catch(E){throw E instanceof SyntaxError&&(n.filename&&(E.message+=" in "+n.filename),E.message+=` while compiling ejs

`,E.message+=`If the above error is not helpful, you may want to try EJS-Lint:
`,E.message+="https://github.com/RyanZim/EJS-Lint",n.async||(E.message+=`
`,E.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),E}var C=n.client?t:function(D){var z=function(ge,de){var se=j.shallowCopy(j.createNullProtoObjWherePossible(),D);return de&&(se=j.shallowCopy(se,de)),xr(ge,n)(se)};return t.apply(n.context,[D||j.createNullProtoObjWherePossible(),e,z,Ii])};if(n.filename&&typeof Object.defineProperty=="function"){var v=n.filename,k=he.basename(v,he.extname(v));try{Object.defineProperty(C,"name",{value:k,writable:!1,enumerable:!1,configurable:!0})}catch{}}return C},generateSource:function(){var l=this.opts;l.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,`
`).replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var t=this,n=this.parseTemplateText(),s=this.opts.delimiter,a=this.opts.openDelimiter,e=this.opts.closeDelimiter;n&&n.length&&n.forEach(function(h,p){var u;if(h.indexOf(a+s)===0&&h.indexOf(a+s+s)!==0&&(u=n[p+2],!(u==s+e||u=="-"+s+e||u=="_"+s+e)))throw new Error('Could not find matching close tag for "'+h+'".');t.scanLine(h)})},parseTemplateText:function(){for(var l=this.templateText,t=this.regex,n=t.exec(l),s=[],a;n;)a=n.index,a!==0&&(s.push(l.substring(0,a)),l=l.slice(a)),s.push(n[0]),l=l.slice(n[0].length),n=t.exec(l);return l&&s.push(l),s},_addOutput:function(l){if(this.truncate&&(l=l.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!l)return l;l=l.replace(/\\/g,"\\\\"),l=l.replace(/\n/g,"\\n"),l=l.replace(/\r/g,"\\r"),l=l.replace(/"/g,'\\"'),this.source+='    ; __append("'+l+`")
`},scanLine:function(l){var t=this,n=this.opts.delimiter,s=this.opts.openDelimiter,a=this.opts.closeDelimiter,e=0;switch(e=l.split(`
`).length-1,l){case s+n:case s+n+"_":this.mode=I.modes.EVAL;break;case s+n+"=":this.mode=I.modes.ESCAPED;break;case s+n+"-":this.mode=I.modes.RAW;break;case s+n+"#":this.mode=I.modes.COMMENT;break;case s+n+n:this.mode=I.modes.LITERAL,this.source+='    ; __append("'+l.replace(s+n+n,s+n)+`")
`;break;case n+n+a:this.mode=I.modes.LITERAL,this.source+='    ; __append("'+l.replace(n+n+a,n+a)+`")
`;break;case n+a:case"-"+n+a:case"_"+n+a:this.mode==I.modes.LITERAL&&this._addOutput(l),this.mode=null,this.truncate=l.indexOf("-")===0||l.indexOf("_")===0;break;default:if(this.mode){switch(this.mode){case I.modes.EVAL:case I.modes.ESCAPED:case I.modes.RAW:l.lastIndexOf("//")>l.lastIndexOf(`
`)&&(l+=`
`)}switch(this.mode){case I.modes.EVAL:this.source+="    ; "+l+`
`;break;case I.modes.ESCAPED:this.source+="    ; __append(escapeFn("+Mi(l)+`))
`;break;case I.modes.RAW:this.source+="    ; __append("+Mi(l)+`)
`;break;case I.modes.COMMENT:break;case I.modes.LITERAL:this._addOutput(l);break}}else this._addOutput(l)}t.opts.compileDebug&&e&&(this.currentLine+=e,this.source+="    ; __line = "+this.currentLine+`
`)}};L.escapeXML=j.escapeXML;L.__express=L.renderFile;L.VERSION=ur;L.name=gr;typeof window<"u"&&(window.ejs=L)});var Gi=V((Zr,zi)=>{var Kr=Ui();function br(l){let t=[],n=l.events;delete l.events;let s=JSON.stringify(l,null,2);for(let h of n){let{name:p,key:u}=h,g=`
  ${p}_clicked(e, props) {
      // code
  }

  `;t.push(g),s=s.replace(`"${u}"`,`(e, props) => {page.${p}_clicked(e, props);},`)}let a=t.join("");return`
export default class PBPage extends PB.AmisPage {
  constructor(root, options, dialog) {
    super(root, options, dialog);
    const page = this;
    let amisJSON = ${s}
    this._init(amisJSON);
  }

  onLoad() {
  }

  onResize(sizetype, newwidth, newheight) {
    console.log('onResize', newwidth, newheight);
  }

  onClose() {
    console.log('onClose');
  }

  ${a}

}
    `}zi.exports={generateJs:br}});var pe=require("fs"),lt=require("path"),yr=Zt(),vr=gi(),Cr=_i(),{Command:Er}=qi(),ct=new Er,Fr=Gi();async function Ji(l,t){t||(t={});let n=pe.readdirSync(l);for(let s of n){let a=lt.join(l,s);if(pe.statSync(a).isDirectory())console.log(`Found directory: ${a}`),t=Ji(a,t);else{let h=lt.extname(a),p=lt.parse(a).name;if(h===".sru"||h===".srw"){let u=await vr(a),g="utf8";u.encoding&&(g=u.encoding);let x=pe.readFileSync(a,g),C=yr.parse(x);t[p]=C}}}return t}ct.name("pbtoweb").description("convert powerbuilder syntax to web. let pb run in browser").version("0.1.0");ct.command("convert").description(`\u6307\u5B9A\u76EE\u5F55\u548C\u7A97\u53E3\u8FDB\u884C\u8F6C\u6362
  \u4F8B\u5982\uFF1A\u5C06pb\u4EE3\u7801\uFF08\u5305\u62EC\u7EE7\u627F\u7684\u5BF9\u8C61\uFF09\u5BFC\u51FA\u5230d:/pbcode\u4E2D\uFF0C\u8FD0\u884C\u4EE5\u4E0B\u547D\u4EE4
      node pbtoweb convert d:/pbcode w_amis d:/out.json --demo
  \u5B8C\u6210\u540E\uFF0C\u5C06w_amis\u7A97\u53E3\uFF0C\u5BFC\u51FAd:/out.json\u7684\u6587\u4EF6,\u53EF\u4EE5\u5C06\u6587\u4EF6\u5185\u5BB9\u653E\u5230amis\u7F51\u7AD9\u4E0A\u770B\u5230\u6548\u679C\u3002
  \u5982\u679C\u8FD0\u884C\u4EE5\u4E0B\u547D\u4EE4:
      node pbtoweb convert d:/pbcode w_amis d:/form.js --js
  \u5B8C\u6210\u540E\uFF0C\u5C06w_amis\u7A97\u53E3\uFF0C\u5BFC\u51FAd:/form.js\u6587\u4EF6\u3002
  \u5C06\u6587\u4EF6\u653E\u5230\u4E0B\u8F7D\u7684satrda\u6587\u4EF6\u5939 D:/SatRDA_V20230612/server/plugins/web/dist/data/page \u4E0B\uFF0C
  \u8FD0\u884Csatserver
  \u5728\u6D4F\u89C8\u5668\u4E2D\u8F93\u5165 http://127.0.0.1:5555/webui \u53EF\u4EE5\u914D\u7F6E\u5E76\u770B\u5230\u6548\u679C
  `).argument("<sourceDir>","pb\u4EE3\u7801\u7684\u76EE\u5F55").argument("<winName>","\u9700\u8981\u8F6C\u6362\u7684\u7A97\u53E3\u5BF9\u8C61").argument("<exportFile>","\u8F6C\u6362\u540E\u7684\u6587\u4EF6").option("--demo","\u662F\u5426\u653E\u5230amis\u7F51\u7AD9\u4E0A\u53EF\u4EE5\u8FD0\u884C").option("--js","\u751F\u6210js\u6587\u4EF6").action(async(l,t,n,s)=>{console.time("convert");let a=await Ji(l);console.timeEnd("convert");let h=new Cr(a,t).toAmis(s.demo);if(s.js){let p=Fr.generateJs(h);pe.writeFileSync(n,p)}else{delete h.events;let p=JSON.stringify(h,null,2);pe.writeFileSync(n,p)}});ct.parse(process.argv);
/*! Bundled license information:

ejs/lib/ejs.js:
  (**
   * @file Embedded JavaScript templating engine. {@link http://ejs.co}
   * @author Matthew Eernisse <mde@fleegix.org>
   * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
   * @project EJS
   * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
   *)
*/
